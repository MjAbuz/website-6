[{"content":"TL;DR ğŸ Pythonã®ã‚¯ãƒ©ã‚¹ãƒ»ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹é–¢é€£ã¯æ¯å›ã“ã‚“ãŒã‚‰ã‹ã‚‹ã®ã§ãƒ¡ãƒ¢ã€‚__new__ãƒ»__init__ãƒ»typeã®å½¹å‰²ã‚’æ­£ã—ãç†è§£ã™ã‚‹ã®ãŒé‡è¦ã€‚ ã¾ãšã€ä»¥ä¸‹ã§ã¯é€šå¸¸ã®ã‚¯ãƒ©ã‚¹å®šç¾©ã¨ã—ã¦ä»¥ä¸‹ã‚’è€ƒãˆã‚‹ã“ã¨ã«ã™ã‚‹ã€‚\n# é€šå¸¸ã®ã‚¯ãƒ©ã‚¹å®šç¾© class Class: def __init__(self, arg): self.arg = arg __new__ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆãƒ»__init__ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åˆæœŸåŒ– __new__ã¯åˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ã®ã«ä½¿ã‚ã‚Œã‚‹ã€‚__init__ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚ŒãŸå¾Œã«åˆæœŸåŒ–ã®ãŸã‚å‘¼ã³å‡ºã•ã‚Œã‚‹ã€‚ __init__ã«ã‚ˆã£ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹è¨³ã§ã¯ãªã„ã“ã¨ã«æ³¨æ„ã™ã‚‹ï¼ˆPythonã§__init__ã‚’ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¨å‘¼ã°ãªã„ã®ã¯ãã®ãŸã‚ã§ã‚ã‚‹ï¼‰ã€‚ ã¤ã¾ã‚Šã€ä»¥ä¸‹ã®2ã¤ã¯ç­‰ä¾¡ã§ã‚ã‚‹ã€‚\n# é€šå¸¸ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆ obj = Class(arg) # __new__ã¨__init__ã‚’æ˜ç¤ºçš„ã«å‘¼ã³å‡ºã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆ obj = Class.__new__(Class, arg) obj.__init__(arg) __new__ã¯ä¸€èˆ¬çš„ã«ã¯å®šç¾©ã•ã‚Œã¦ã„ãªã„ã®ã§ã€ãã®å ´åˆã¯åŸºåº•ã‚¯ãƒ©ã‚¹objectã®__new__ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã«ãªã‚‹ã€‚ ã¤ã¾ã‚Šã€ä»¥ä¸‹ã¨ã‚‚ç­‰ä¾¡ã§ã‚ã‚‹ã€‚\n# __new__ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã„å ´åˆã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆ obj = object.__new__(Class, arg) obj.__init__(arg) __new__ã®ä½¿ã„æ‰€ã¨ã—ã¦ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒè€ƒãˆã‚‰ã‚Œã‚‹ã ã‚ã†ã€‚ ä¾‹ãˆã°ã€ä»¥ä¸‹ã¯ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ï¼ˆè¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§åŒä¸€æ€§ãŒä¿è¨¼ã•ã‚ŒãŸã‚¯ãƒ©ã‚¹ï¼‰ã®å®Ÿè£…ä¾‹ã§ã‚ã‚‹ã€‚\n# __new__ã‚’ä½¿ã£ãŸã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã®å®Ÿè£… class Singleton: def __new__(cls): if not hasattr(cls, \u0026#34;_instance\u0026#34;): cls._instance = super().__new__(cls) return cls._instance print(Singleton() is Singleton()) # True ä»–ã®ç”¨é€”ã¨ã—ã¦ã¯ã€ã‚¿ãƒ—ãƒ«ã‚„NumPyãªã©ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã€‚\nãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã¯typeã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã®å½¹å‰²ã¯ã‚¯ãƒ©ã‚¹ç”Ÿæˆãã®ã‚‚ã®ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ã‚ã‚‹ã€‚ ãã‚‚ãã‚‚ã€ã‚¯ãƒ©ã‚¹ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«çµ„ã¿è¾¼ã¿ã‚¯ãƒ©ã‚¹ã®typeã‚’ä½¿ã£ã¦type(name, bases, dict)ã§å‹•çš„ã«ç”Ÿæˆã§ãã‚‹ã€‚ ã¤ã¾ã‚Šã€é€šå¸¸ã®ã‚¯ãƒ©ã‚¹å®šç¾©ã¯ä»¥ä¸‹ã¨ç­‰ä¾¡ã§ã‚ã‚‹ã€‚\n# typeã«ã‚ˆã‚‹ã‚¯ãƒ©ã‚¹å®šç¾© def __init__(self, arg): self.arg = arg Class = type(\u0026#34;Class\u0026#34;, (object,), {\u0026#34;__init__\u0026#34;: __init__}) ã“ã‚Œã¯ã€typeãŒãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã€ã¤ã¾ã‚Šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã‚¯ãƒ©ã‚¹ã¨ãªã‚‹ã‚ˆã†ãªã‚¯ãƒ©ã‚¹ã§ã‚ã‚‹ã“ã¨ã‚’è¡¨ã—ã¦ã„ã‚‹ã€‚ metaclassã‚’ä½¿ã£ãŸã‚¯ãƒ©ã‚¹å®šç¾©ã¯ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸtypeã‚’ä½¿ã£ã¦ã‚¯ãƒ©ã‚¹ç”Ÿæˆã™ã‚‹ã“ã¨ã«ç›¸å½“ã™ã‚‹ã€‚ ã¤ã¾ã‚Šã€metaclass=metaã®å ´åˆã®ã‚¯ãƒ©ã‚¹ç”Ÿæˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¡Œã‚ã‚Œã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã€‚\n# metaclass=metaã®å ´åˆã®ã‚¯ãƒ©ã‚¹å®šç¾© Class = meta(\u0026#34;Class\u0026#34;, (object,), {\u0026#34;__init__\u0026#34;: __init__}) ã¾ãŸã€ä»¥ä¸‹ãŒé€šå¸¸ã®ã‚¯ãƒ©ã‚¹å®šç¾©ã¨ç­‰ä¾¡ã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã¯ãšã§ã‚ã‚‹ã€‚\n# metaclass=typeã®å ´åˆã®ã‚¯ãƒ©ã‚¹å®šç¾© class Class(metaclass=type): def __init__(self, arg): self.arg = arg ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã®ä½¿ã„æ‰€ã¯ã€__new__ã‚„__init__ã§ã¯è¡Œãˆãªã„ã‚ˆã†ãªã‚¯ãƒ©ã‚¹ã«å¯¾ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ç­‰ã®å‹•çš„ãªè¿½åŠ ãƒ»å¤‰æ›´ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã ã‚ã†ã€‚ ä¾‹ãˆã°ã€ä»¥ä¸‹ã¯ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰åã‚’ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ã«å¤‰æ›´ã™ã‚‹å®Ÿè£…ä¾‹ã§ã‚ã‚‹ã€‚\n# ãƒ¡ã‚½ãƒƒãƒ‰åã®ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹åŒ– # install from PyPI from inflection import underscore def snake_case(name, bases, dict): new_dict = {underscore(k): v for k, v in dict.items()} return type(name, bases, new_dict) class Example(metaclass=snake_case): def CamelCaseMethod(self): pass obj = Example() obj.camel_case_method() # ok obj.CamelCaseMethod() # AttributeError ã¡ãªã¿ã«ã€æœ€çµ‚çš„ã«typeãŒå‘¼ã°ã‚Œã•ãˆã™ã‚Œã°è‰¯ã„ã®ã§ã€metaclassã«æ¸¡ã™ã®ã¯callableãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚Œã°ã‚¯ãƒ©ã‚¹ã§ãªãã¦ã‚‚ã‹ã¾ã‚ãªã„ã€‚ å®Ÿéš›ã€ä¸Šã®ä¾‹ã§ã¯é–¢æ•°ã‚’metaclassã«æ¸¡ã—ã¦ã„ã‚‹ï¼ˆãŸã ã—ã€typeã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¿”ã™ã ã‘ãªã®ã§ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã§ã¯ãªã„ã“ã¨ã«æ³¨æ„ï¼‰ã€‚\nãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã¨ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ ã‚¯ãƒ©ã‚¹ã‚’å‹•çš„ã«å¤‰æ›´ã™ã‚‹ã‚‚ã†ä¸€ã¤ã®æ–¹æ³•ã¨ã—ã¦ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãŒã‚ã‚‹ã€‚ ã“ã‚Œã¯ã€ã‚¯ãƒ©ã‚¹ã‚’å—ã‘å–ã‚Šã‚¯ãƒ©ã‚¹ã‚’è¿”ã™é–¢æ•°ã¨ã—ã¦å®Ÿè£…ã—ã€é–¢æ•°ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã¨åŒæ§˜ã«ã‚¯ãƒ©ã‚¹å®šç¾©ã®ä¸Šã«ãƒ‡ã‚³ãƒ¬ãƒ¼ãƒˆã™ã‚‹ã‚‚ã®ã§ã‚ã‚‹ã€‚ ä¾‹ãˆã°ã€å…ˆã»ã©ã®ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ã®å®Ÿè£…ä¾‹ã¯ã€ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ã€‚\n# ãƒ¡ã‚½ãƒƒãƒ‰åã®ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹åŒ–ï¼ˆã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ç‰ˆï¼‰ def snake_case(cls): for name, obj in vars(cls).items(): new_name = underscore(name) if name != new_name: setattr(cls, new_name, obj) delattr(cls, name) return cls @snake_case class Example: def CamelCaseMethod(self): pass ç”Ÿæˆã•ã‚ŒãŸã‚¯ãƒ©ã‚¹ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ç”¨é€”ã§ã‚ã‚Œã°ã€ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã¯ç›´æ„Ÿçš„ã§åˆ†ã‹ã‚Šã‚„ã™ã„ã€‚ ä¾‹ãˆã°ã€Python 3.7ã§å°å…¥ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã§ã¯ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã€‚ ç§è¦‹ã ãŒã€å¼•æ•°ã‚’æŒã¤ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã‚‚ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã®åˆ©ç‚¹ã‹ã‚‚ã—ã‚Œãªã„ã€‚\nä¸€æ–¹ã€ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹ã®ã¯ä¸»ã«ã‚¯ãƒ©ã‚¹å¤‰æ•°ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚ã‚Šã€ã‚¯ãƒ©ã‚¹è‡ªèº«ãŒæŒã¤ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆã¤ã¾ã‚Šã‚¯ãƒ©ã‚¹ã‚’typeã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¨è¦‹ãŸã¨ãã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã€‚ ä¾‹ãˆã°ã€ã‚¯ãƒ©ã‚¹ã‚’printã—ãŸã¨ãã®è¡¨ç¤ºã¯ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã‚’ä½¿ã‚ãªã„ã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ããªã„ã€‚\n# ã‚¯ãƒ©ã‚¹ã®reprã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º class Meta(type): def __repr__(self): return self.__name__ + \u0026#34;!\u0026#34; class Custom(metaclass=Meta): pass print(Custom) # Custom! ã¾ãŸã€å‹•çš„ãªã‚¯ãƒ©ã‚¹ç¶™æ‰¿ãªã©ã‚‚ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã®ç¯„ç–‡ã§ã‚ã‚‹ã€‚\n# ã‚¯ãƒ©ã‚¹åã«å¿œã˜ãŸç¶™æ‰¿å…ˆã®å¤‰æ›´ def meta(name, bases, dict): return type(name, (eval(name.lower()), *bases), dict) class List(metaclass=meta): pass class Tuple(metaclass=meta): pass print(List([0, 1, 2])) # [0, 1, 2] print(Tuple([0, 1, 2])) # (0, 1, 2) ã“ã®ã‚ˆã†ã«ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã®æ–¹ãŒå¼·åŠ›ã ãŒã€åé¢ã©ã†ã—ã¦ã‚‚æŠ½è±¡çš„ãªæ¦‚å¿µãŒç™»å ´ã—ã¦åˆ†ã‹ã‚Šã¥ã‚‰ããªã‚‹ã®ã§ã€ãªã‚‹ã¹ãã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã¾ã§ã«ç•™ã‚ã¦ãŠããŸã„ã¨ã“ã‚ã€‚ ã¾ãŸã€é–¢æ•°ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã¨åŒæ§˜ã«ã€ã‚¯ãƒ©ã‚¹ã‚’ã‚‚ã¨ã«ã—ãŸæ–°ã—ã„ã‚¯ãƒ©ã‚¹ã‚’è¿”ã™ã®ã§ã‚ã‚Œã°ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã§ã‚‚å¯èƒ½ãªã®ã§ã€è¡¨é¢ä¸Šã¯ã“ã‚Œã§è‰¯ã„å ´åˆã‚‚å¤šã„ã ã‚ã†ã€‚\n# ã‚¯ãƒ©ã‚¹ã®reprã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ç‰ˆï¼‰ class Meta(type): def __repr__(self): return self.__name__ + \u0026#34;!\u0026#34; def deco(cls): return Meta(cls.__name__, cls.__bases__, dict(cls.__dict__)) @deco class Custom: pass print(Custom) # Custom! ã¾ã¨ã‚  __new__ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º __init__ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã¯typeã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã¯typeã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆï¼ã‚¯ãƒ©ã‚¹ï¼‰ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º  References  çµ„ã¿è¾¼ã¿é–¢æ•° â€” Python 3.9.1 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ dataclasses \u0026mdash; ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ â€” Python 3.9.1 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ Python ã® new ã£ã¦ãªã«ï¼Ÿ | æ°‘ä¸»ä¸»ç¾©ã«ä¹¾æ¯ Python ã®ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã¨ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã£ã¦ãªã«ï¼Ÿ | æ°‘ä¸»ä¸»ç¾©ã«ä¹¾æ¯ inflection Â· PyPI  ","date":"2020-12-29T17:48:00+09:00","image":"https://astropengu.in/posts/32/image_hud757c1cb85c28ff6302647a0a6aa5a74_1830888_120x120_fill_q75_box_smart1.jpg","permalink":"https://astropengu.in/posts/32/","title":"Pythonã®ã‚¯ãƒ©ã‚¹ã¨ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã¾ã¨ã‚"},{"content":"TL;DR ğŸŒ» xarrayã¯å¤šæ¬¡å…ƒé…åˆ—ã«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆè»¸ã®ãƒ©ãƒ™ãƒ«ãªã©ï¼‰ãŒãã£ã¤ã„ãŸãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ã€NumPyã‚„pandasã¨åŒæ§˜ã«ãƒ‡ãƒ¼ã‚¿è§£æã§ä½¿ã‚ã‚Œã‚‹Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ãŒã€æ§˜ã€…ãªãƒ‡ãƒ¼ã‚¿ã‚’xarrayï¼ˆã®DataArrayï¼‰ã§æ‰±ã£ã¦ã„ãä¸­ã§ä»¥ä¸‹ã®ã‚ˆã†ã«æ„Ÿã˜ã‚‹ã“ã¨ãŒå¢—ãˆã¦ãã¾ã—ãŸã€‚\n å¤šæ¬¡å…ƒé…åˆ—ã®è»¸ï¼ˆdimensionsï¼‰ã‚„å‹ï¼ˆdtypeï¼‰ã‚’æŒ‡å®šã—ãŸé…åˆ—ç”Ÿæˆé–¢æ•°ãŒã»ã—ã„ åŒæ§˜ã«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆcoordinatesï¼‰ã«ã‚‚è»¸ãƒ»å‹ãƒ»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å€¤ã‚’æŒ‡å®šã—ãŸã„ ä¸Š2ã¤ã‚’æº€ãŸã—ãŸNumPyã®ones()ã®ã‚ˆã†ãªç‰¹åˆ¥ãªé…åˆ—ç”Ÿæˆã‚’ã—ãŸã„ ãƒ‡ãƒ¼ã‚¿ç‹¬è‡ªã®å‡¦ç†ï¼ˆãƒ¡ã‚½ãƒƒãƒ‰ï¼‰ã‚’å®šç¾©ã—ãŸã„  ã“ã‚Œã‚‰ã‚’ã‹ãªãˆã‚‹æ–¹æ³•ã¯è‰²ã€…è€ƒãˆã‚‰ã‚Œã¾ã™ãŒã€Python 3.7ã‹ã‚‰æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ç™»å ´ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ï¼ˆdataclassesï¼‰ãŒåŒã˜ã‚ˆã†ãªæ‚©ã¿ï¼Ÿã‚’ã‚·ãƒ³ãƒ—ãƒ«ãªæ›¸ãæ–¹ã§è§£æ±ºã—ã¦ã„ã‚‹ã“ã¨ã«æ°—ã¥ãã¾ã—ãŸã€‚ãã“ã§ã€ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã¨åŒæ§˜ã®æ›¸ãæ–¹ã§ãƒ¦ãƒ¼ã‚¶å®šç¾©ã®DataArrayã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€Œxarray-customã€ã‚’å…¬é–‹ã—ã¾ã—ãŸã®ã§ã”ç´¹ä»‹ã—ã¾ã™ï¼ˆpipã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ï¼‰ã€‚\nfrom xarray_custom import ctype, dataarrayclass @dataarrayclass(accessor=\u0026#39;img\u0026#39;) class Image: \u0026#34;\u0026#34;\u0026#34;DataArray class to represent images.\u0026#34;\u0026#34;\u0026#34; dims = \u0026#39;x\u0026#39;, \u0026#39;y\u0026#39; dtype = float x: ctype(\u0026#39;x\u0026#39;, int) = 0 y: ctype(\u0026#39;y\u0026#39;, int) = 0 def normalize(self): return self / self.max() ä»¥ä¸‹ã§ã¯ã“ã®ã‚³ãƒ¼ãƒ‰ã®ä»•çµ„ã¿ã‚’ã€Pythonã®ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã‚„DataAraryã«è§¦ã‚ŒãªãŒã‚‰è§£èª¬ã—ã¦ã„ãã¾ã™ã€‚\nPython\u0026rsquo;s dataclass ã¾ãšã€Pythonã®ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã¨ã¯ãƒ¦ãƒ¼ã‚¶å®šç¾©ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ç°¡å˜ã«ä½œæˆã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ï¼ˆã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ï¼‰ã§ã™ã€‚\nfrom dataclasses import dataclass @dataclass class Coordinates: x: float y: float @classmethod def origin(cls): return cls(0.0, 0.0) def norm(self): return (self.x ** 2 + self.y **2) ** 0.5 ã“ã®ã‚ˆã†ã«ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã¨ã€\ncoord = Coordinates(x=3, y=4) ã®ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¦ãã‚Œã¾ã™ï¼ˆæœ¬æ¥ã¯__init__()ãªã©è«¸ã€…ã®ç‰¹æ®Šãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…ãŒå¿…è¦ï¼‰ã€‚ã“ã®ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã®åˆ©ç‚¹ã¨ã—ã¦ã¯ä»¥ä¸‹ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚\n æ ¼ç´ã™ã‚‹å€¤ã«åå‰ãƒ»å‹ï¼ˆå‹ãƒ’ãƒ³ãƒˆã®ã¿ï¼‰ãƒ»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒãŸã›ã‚‹ã“ã¨ãŒã§ãã‚‹ ç‰¹åˆ¥ãªãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆä¸Šã®ä¾‹ã§ã¯origin()ï¼‰ã‚’ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã§å®Ÿç¾ã§ãã‚‹ ãƒ‡ãƒ¼ã‚¿ç‹¬è‡ªã®å‡¦ç†ï¼ˆä¸Šã®ä¾‹ã§ã¯norm()ï¼‰ã‚’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã§å®Ÿç¾ã§ãã‚‹  xarray\u0026rsquo;s DataArray æ¬¡ã«ã€xarrayï¼ˆDataArrayï¼‰ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚DataArrayã¯NumPyã®å¤šæ¬¡å…ƒé…åˆ—ï¼ˆdataï¼‰ã€è»¸ï¼ˆdimensions; ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ä¸€ç¨®ï¼‰ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆcoordinatesï¼‰ã‹ã‚‰ãªã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å–ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®ä¾‹ã¯ã€xyã®2è»¸ã‹ã‚‰ãªã‚‹å˜è‰²ç”»åƒã‚’ãƒ‡ãƒ¼ã‚¿ã‚’DataArrayã§è¡¨ç¾ã—ã¦ã„ã‚‹ã¤ã‚‚ã‚Šã§ã™ã€‚\nfrom xarray import DataArray image = DataArray(data=[[0, 1], [2, 3]], dims=(\u0026#39;x\u0026#39;, \u0026#39;y\u0026#39;), coords={\u0026#39;x\u0026#39;: [0, 1], \u0026#39;y\u0026#39;: [0, 1]}) print(image) # \u0026lt;xarray.DataArray (x: 2, y: 2)\u0026gt; # array([[0., 1.], # [2., 3.]]) # Coordinates: # * x (x) int64 0 1 # * y (y) int64 0 1 DataArrayã¯ã‚¯ãƒ©ã‚¹ãªã®ã§ã€ãƒ¦ãƒ¼ã‚¶å®šç¾©ã®DataArrayã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ä¸€èˆ¬çš„ãªæ–¹æ³•ã¯DataArrayã‚’ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã¨ã—ãŸæ–°ã—ã„ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã™ã€‚ã—ã‹ã—ã€__init__()ãªã©ã«å®šç¾©ã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ã¦ã—ã¾ã†ã¨ä½¿ã„å›ã—ãŒåŠ¹ã‹ãªã„ã¨ã„ã†å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€xarrayã‚„pandasã§ã¯ãã‚‚ãã‚‚ã‚µãƒ–ã‚¯ãƒ©ã‚¹åŒ–ã‚’ç©æ¥µçš„ã«æ¨å¥¨ã—ã¦ãŠã‚‰ãšã€ã‚¢ã‚¯ã‚»ã‚µï¼ˆaccessorï¼‰ã¨ã„ã†ç‰¹åˆ¥ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä»‹ã—ã¦ãƒ¦ãƒ¼ã‚¶å®šç¾©ã®å‡¦ç†ãªã©ã‚’å®Ÿè£…ã™ã‚‹ã®ãŒè‰¯ã„ã¨ã—ã¦ã„ã¾ã™ã€‚\n One standard solution to this problem is to subclass Dataset and/or DataArray to add domain specific functionality. However, inheritance is not very robust. Itâ€™s easy to inadvertently use internal APIs when subclassing, which means that your code may break when xarray upgrades. Furthermore, many builtin methods will only return native xarray objects. (Extending xarray - xarray 0.15.0 documentation)\n xarray\u0026rsquo;s dataarrayclass ã‚ˆã†ã‚„ãæœ¬é¡Œã§ã™ã€‚å†’é ­ã«æ›¸ã„ãŸã‚ˆã†ãªè¦æœ›ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã€xarrayï¼ˆDataArrayï¼‰ã®äº‹æƒ…ã‚‚è€ƒæ…®ã™ã‚‹ã¨ã€\n ï¼ˆãƒ¡ã‚¿ï¼‰ãƒ‡ãƒ¼ã‚¿ã®å®šç¾©ã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã›ãšã«é…åˆ—ç”Ÿæˆã™ã‚‹æ–¹æ³•ã‚’æä¾›ã™ã‚‹ ã‚¢ã‚¯ã‚»ã‚µã‚’ä»‹ã—ãŸãƒ¦ãƒ¼ã‚¶å®šç¾©ã®å‡¦ç†ã‚’æä¾›ã™ã‚‹ ã“ã‚Œã‚‰ã‚’ã‚·ãƒ³ãƒ—ãƒ«ãªæ›¸ãæ–¹ã§ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹  ã“ã¨ãŒå¿…è¦ã ã¨ã„ã†ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚ãã“ã§ã€xarray-customã§ã¯Pythonã®ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã«æ…£ã„ã€ãƒ¦ãƒ¼ã‚¶å®šç¾©ã®DataArrayã‚¯ãƒ©ã‚¹ã‚’ã‚¯ãƒ©ã‚¹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ï¼ˆdataarrayclassï¼‰ã§å‹•çš„ã«æ”¹å¤‰ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚xarray-customã‚’ä½¿ã†ã¨ä¸Šã®å˜è‰²ç”»åƒã®ä¾‹ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã§ãã¾ã™ã€‚\nfrom xarray_custom import ctype, dataarrayclass @dataarrayclass(accessor=\u0026#39;img\u0026#39;) class Image: \u0026#34;\u0026#34;\u0026#34;DataArray class to represent images.\u0026#34;\u0026#34;\u0026#34; dims = \u0026#39;x\u0026#39;, \u0026#39;y\u0026#39; dtype = float x: ctype(\u0026#39;x\u0026#39;, int) = 0 y: ctype(\u0026#39;y\u0026#39;, int) = 0 def normalize(self): return self / self.max() ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã‚’çŸ¥ã£ã¦ã„ã‚‹ã“ã¨ã§ã€ã“ã®ã‚³ãƒ¼ãƒ‰ã§ä½•ã‚’ã—ã¦ã„ã‚‹ã®ã‹ã¯èª¬æ˜ãªã—ã§ã‚‚ä½•ã¨ãªãç†è§£ã—ã¦ã„ãŸã ã‘ãŸã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚ã“ã“ã§ã®ãƒã‚¤ãƒ³ãƒˆã¯ä»¥ä¸‹ã®3ç‚¹ã§ã™ã€‚\n ã‚¯ãƒ©ã‚¹å¤‰æ•°ã§ãƒ‡ãƒ¼ã‚¿ã®è»¸ï¼ˆ'x', 'y'ï¼‰ãƒ»å‹ï¼ˆfloatï¼‰ã‚’æŒ‡å®šã™ã‚‹ ç‰¹åˆ¥ãªå‹ä»˜ãã®ã‚¯ãƒ©ã‚¹å¤‰æ•°ã§è»¸ã‚’å«ã‚€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®åå‰ãƒ»è»¸ãƒ»å‹ãƒ»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒ‡å®šã™ã‚‹ ãƒ¦ãƒ¼ã‚¶å®šç¾©ã®å‡¦ç†ï¼ˆãƒ¡ã‚½ãƒƒãƒ‰ï¼‰ã¯ã‚¢ã‚¯ã‚»ã‚µï¼ˆimgï¼‰é…ä¸‹ã«è‡ªå‹•çš„ã«ç§»å‹•ã•ã›ã‚‹  ã“ã“ã§ã€ctypeã¯ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å®šç¾©ã™ã‚‹ç‰¹åˆ¥ãªå‹ï¼ˆã‚¯ãƒ©ã‚¹ï¼‰ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã®é–¢æ•°ã§ã™ã€‚ãã‚Œã§ã¯å®Ÿéš›ã«ãƒ¦ãƒ¼ã‚¶å®šç¾©ã®é…åˆ—ã‚’ç”Ÿæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nimage = Image([[0, 1], [2, 3]], x=[0, 1], y=[0, 1]) print(image) # \u0026lt;xarray.DataArray (x: 2, y: 2)\u0026gt; # array([[0., 1.], # [2., 3.]]) # Coordinates: # * x (x) int64 0 1 # * y (y) int64 0 1 è»¸ã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒäºˆã‚å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ä¸Šã®DataArrayã®ä¾‹ã¨æ¯”ã¹ã¦ã¨ã¦ã‚‚ç°¡æ½”ã«æ›¸ã‘ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã¨ç•°ãªã‚‹ã®ã¯ã€å‹ã®æƒ…å ±ãŒé…åˆ—ã®å‹ã‚’æ±ºã‚ã‚‹ã®ã«å®Ÿéš›ã«ä½¿ã‚ã‚Œã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚ä¸Šã®ä¾‹ã§ã¯ã€integerã®ãƒªã‚¹ãƒˆãŒDataArrayå†…ã§ã¯floatã«å‹å¤‰æ›ã•ã‚Œã¦ã„ã¾ã™ã€‚ï¼ˆæš—é»™ã®ï¼‰å‹å¤‰æ›ãŒã§ããªã„å ´åˆã¯ValueErrorãŒé€å‡ºã•ã‚Œã¾ã™ã€‚ã¾ãŸã€å‹ã‚’æŒ‡å®šã—ãªã„ã“ã¨ã‚‚ã§ãã¾ã™ï¼ˆãã®å ´åˆã€ä»»æ„ã®å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘ä»˜ã‘ã¾ã™ï¼‰ã€‚\nInstance methods via an accessor xarrayã®æ–¹é‡ã«å¾“ã„ã€ã‚¯ãƒ©ã‚¹ã«å®šç¾©ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆä¸Šã®ä¾‹ã§ã¯normalize()ï¼‰ã¯ã‚¢ã‚¯ã‚»ã‚µã‚’ä»‹ã—ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚¢ã‚¯ã‚»ã‚µãªã—ã§å®Ÿè¡Œã™ã‚‹ã¨AttributeErrorãŒé€å‡ºã•ã‚Œã¾ã™ã€‚\nnormalized = image.img.normalize() print(normalized) # \u0026lt;xarray.DataArray (x: 2, y: 2)\u0026gt; # array([[0. , 0.33333333], # [0.66666667, 1. ]]) # Coordinates: # * x (x) int64 0 1 # * y (y) int64 0 1 Special functions as class methods ç‰¹åˆ¥ãªé…åˆ—ç”Ÿæˆã¨ã—ã¦ã€NumPyã«æ…£ã„zeros()ãƒ»ones()ãƒ»empty()ãƒ»full()ãŒã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦è‡ªå‹•çš„ã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚zeros_like()ãªã©ã¯xarrayã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«é–¢æ•°ã«å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã®ã§ãã¡ã‚‰ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚\nuniform = Image.ones((2, 3)) print(uniform) # \u0026lt;xarray.DataArray (x: 2, y: 3)\u0026gt; # array([[1., 1., 1.], # [1., 1., 1.]]) # Coordinates: # * x (x) int64 0 0 # * y (y) int64 0 0 0 Misc ã“ã“ã¾ã§ã®è©±ã§ã€dataarrayclassã§ã‚‚DataArrayã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹åŒ–ã‚’çµå±€è¡Œã£ã¦ã„ã‚‹ã®ã§ã¯ï¼Ÿã¨æ€ã£ãŸæ–¹ã‚‚ã„ã‚‰ã£ã—ã‚ƒã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŒã€å®Ÿéš›ã¯ç”Ÿæˆã•ã‚Œã‚‹DataArrayã¯æœ¬ç‰©ã®DataArrayã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã™ã€‚é€†ã«è¨€ã†ã¨ã€ä¸Šã®ä¾‹ã§ã¯Imageã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nprint(type(image)) # xarray.core.dataarray.DataArray ã“ã‚Œã¯ã€dataarrayclasså†…éƒ¨ã§ã¯__init__()ã§ã¯ãªã__new__()ã‚’å‹•çš„ã«ç”Ÿæˆã—ã¦ãŠã‚Šã€__new__()ãŒDataArrayã‚’è¿”ã™ã‚ˆã†ã«ã—ã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚ã“ã®ãŸã‚ã€æ™®é€šã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ä½œã‚‰ã‚ŒãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚ˆã†ã«ã€ã‚¯ãƒ©ã‚¹å¤‰æ•°ç­‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã“ã¨ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nxarrayã¯NumPyã‚„pandasã«æ¯”ã¹ã‚‹ã¨è¨˜äº‹æ•°ã‚‚å°‘ãªãçŸ¥ååº¦ã‚‚ä½ã„ã®ã‹ãªã¨ã„ã†å°è±¡ã§ã™ãŒã€å¤šæ¬¡å…ƒé…åˆ—ã‚’æ‰±ã†èª²é¡Œã«ã¯é–“é•ã„ãªãæœ‰ç”¨ã§ã™ã®ã§ã©ã‚“ã©ã‚“ä½¿ã£ã¦ã„ããŸã„ã¨ã“ã‚ã§ã™ã€‚xarray-customã¯é–‹ç™ºåˆæœŸã§æ©Ÿèƒ½ã‚‚å°‘ãªã„ã§ã™ãŒã€ã“ã†ã—ãŸæ‹¡å¼µæ©Ÿèƒ½ã®é–‹ç™ºã‚„è¨˜äº‹ã‚’é€šã—ã¦å°‘ã—ã§ã‚‚ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«è²¢çŒ®ã§ãã‚Œã°ã¨æ€ã£ã¦ãŠã‚Šã¾ã™ã€‚\nReferences  xarray-custom  Documentation   xarray  Terminology Extending xarray   pandas  Registering custom accessors    ","date":"2020-07-24T01:46:17+09:00","image":"https://astropengu.in/posts/31/image_huab13b69368037f19875f50bf380cdf80_225815_120x120_fill_q75_box_smart1.jpg","permalink":"https://astropengu.in/posts/31/","title":"Pythonã®ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã®ã‚ˆã†ã«xarrayã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å®šç¾©ã™ã‚‹"},{"content":"TL;DR ğŸ Python ã®å°ãƒã‚¿ã§ã™ãŒã€dictionary ã§å­˜åœ¨ã—ãªã„ key ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸéš›ã«é€å‡ºã•ã‚Œã‚‹ KeyError ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã€å­˜åœ¨ã™ã‚‹ keys ä¸€è¦§ã‚’è¡¨ç¤ºã•ã›ã‚‹æ–¹æ³•ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\nKeysInfoDict ä»¥ä¸‹ã®ã‚ˆã†ãª dictionary ã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§å®Ÿç¾ã—ã¾ã™ã€‚\nclass KeysInfoDict(dict): \u0026#34;\u0026#34;\u0026#34;Dict that shows all keys when KeyError rises.\u0026#34;\u0026#34;\u0026#34; def __missing__(self, key): keys = \u0026#39;, \u0026#39;.join(map(repr, self)) raise KeyError(f\u0026#39;Choose one from: {keys}\u0026#39;) Key ãŒå­˜åœ¨ã—ãªã‹ã£ãŸå ´åˆã«å‘¼ã°ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ __missing__() ã«å‡¦ç†ã‚’è¨­å®šã™ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚\n self[key] ã®å®Ÿè£…ã«ãŠã„ã¦è¾æ›¸å†…ã«ã‚­ãƒ¼ãŒå­˜åœ¨ã—ãªã‹ã£ãŸå ´åˆã«ã€ dict ã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã®ãŸã‚ã« dict.__getitem__() ã«ã‚ˆã£ã¦å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚ 3. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ« â€” Python 3.7.3 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n ã¾ãŸã€key ã® repr ã‚’ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å«ã‚ã‚‹ã“ã¨ã§ã€ä¾‹ãˆã° key ãŒ 1 ãªã®ã‹ '1' ãªã®ã‹ã‚’æ­£ã—ãè¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nExample \u0026gt;\u0026gt;\u0026gt; d = KeysInfoDict(a=1, b=2, c=3) \u0026gt;\u0026gt;\u0026gt; d[\u0026#39;d\u0026#39;] Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 5, in __missing__ KeyError: \u0026#34;Choose one from: \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;\u0026#34; ç”¨é€”ã¨ã—ã¦ã¯ã€ä¾‹ãˆã°ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…éƒ¨ã® dictionary ã§ã€ã‚¨ãƒ©ãƒ¼ã¯é€å‡ºã—ãŸä¸Šã§ãƒ¦ãƒ¼ã‚¶ã«ä½¿ç”¨å¯èƒ½ãª keys ä¸€è¦§ã‚’ã‚µã‚¸ã‚§ã‚¹ãƒˆã—ãŸã„ã€ã¨ã„ã£ãŸå ´åˆã‹ãªã¨æ€ã„ã¾ã™ã€‚\n","date":"2019-05-20T00:21:21+09:00","image":"https://astropengu.in/posts/30/image_hu66482708b471a939ec4727ecbb2ebafe_277748_120x120_fill_q75_box_smart1.jpg","permalink":"https://astropengu.in/posts/30/","title":"Python dictionary ã® KeyError ã« keys ä¸€è¦§ã‚’è¡¨ç¤ºã•ã›ã‚‹"},{"content":"TL;DR ğŸ xarrayã¯ãƒ©ãƒ™ãƒ«ä»˜ãå¤šæ¬¡å…ƒé…åˆ—ã®ã‚»ãƒƒãƒˆã‚’æ‰±ã†ãŸã‚ã®Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã€PyDataã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚Œã¦ã„ã¾ã™ã€‚ Pythonã«ã¯ã‚‚ã¨ã‚‚ã¨ã€å¤šæ¬¡å…ƒé…åˆ—ã‚’åŠ¹ç‡çš„ã«æ‰±ã†ã“ã¨ã®ã§ãã‚‹NumPyã€ãƒ©ãƒ™ãƒ«ä»˜ã1æ¬¡å…ƒé…åˆ—ï¼ˆç³»åˆ—ãƒ‡ãƒ¼ã‚¿ï¼‰ã®ã‚»ãƒƒãƒˆã‚’æ‰±ã†pandasãŒã‚ã‚Šã€xarrayã¯pandasã®å¤šæ¬¡å…ƒç‰ˆã¨è€ƒãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ xarrayã¯æœ€åˆã®ãƒªãƒªãƒ¼ã‚¹ãŒ2014å¹´ã¨æ¯”è¼ƒçš„æ–°ã—ã„ã§ã™ãŒã€pandaså´ã§ã‚‚xarrayã®åˆ©ç”¨ã‚’ä¿ƒã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ å®Ÿéš›ã€pandasã«ã¯2æ¬¡å…ƒé…åˆ—ã®ã‚»ãƒƒãƒˆã¨æ‰±ã†ãŸã‚ã®Panelã¨å‘¼ã°ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãŒã‚ã‚Šã¾ã—ãŸãŒã€xarrayã®ç™»å ´ã«ã‚ˆã£ã¦deprecatedã¨ãªã‚Šã€ä»£ã‚ã‚Šã«to_xarray()ãƒ¡ã‚½ãƒƒãƒ‰ãŒpd.DataFrameã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\n Panel was deprecated in the 0.20.x release, showing as a DeprecationWarning. Using Panel will now show a FutureWarning. The recommended way to represent 3-D data are with a MultiIndex on a DataFrame via the to_frame() or with the xarray package. Pandas provides a to_xarray() method to automate this conversion.\nv0.20.1 (May 5, 2017) â€” pandas 0.24.2 documentation\n ã“ã†ã—ãŸèƒŒæ™¯ã®ä¸€æ–¹ã€xarrayã¯pandasã»ã©ä½¿ã‚ã‚Œã¦ã„ãªã„ã®ã‹ãªã‚ã¨ã„ã†å°è±¡ã§ã™ã€‚ ä¾‹ãˆã°ã€Google Trendsã«ã‚ˆã‚‹ã¨ã€pandasã¨xarrayã®æ¤œç´¢æ•°ã«ã¯å¤§ããªé–‹ããŒã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ xarrayã‚’ç´¹ä»‹ã—ã¦ã„ã‚‹è¨˜äº‹ç­‰ã‚‚ï¼ˆæ—¥æœ¬èªã€è‹±èªã¨ã‚‚ã«ï¼‰pandasã®ãã‚Œã¨æ¯”ã¹ã¦åœ§å€’çš„ã«å°‘ãªã„ã§ã™ã€‚\nå®Ÿéš›å•é¡Œã€å¤šæ¬¡å…ƒé…åˆ—ã¨ã„ã†ã®ã¯ä¸€èˆ¬çš„ã«ã¯ä½¿ã‚ã‚Œã¦ã„ãªã„ï¼ˆä½¿ã†å¿…è¦ãŒãªã„ï¼‰ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼ˆä¾‹ãˆã°ã€Excelã§è¡¨ç¾ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ã§ã‚ã‚Œã°pandasã®ç¯„ç–‡ï¼‰ã€‚ ã—ã‹ã—ã€ç ”ç©¶åˆ†é‡ã®æ¸¬å®šãƒ‡ãƒ¼ã‚¿ã¯å¤šæ¬¡å…ƒã«æ™®é€šã«ãªã‚Šå¾—ã¾ã™ã—ã€ãƒ‡ãƒ¼ã‚¿ã«ã¯æ¸¬å®šæ™‚åˆ»ã‚„åº§æ¨™ç­‰ã®ãƒ©ãƒ™ãƒ«ãŒä»˜ãã“ã¨ãŒã»ã¨ã‚“ã©ã§ã™ã®ã§ã€ãƒ©ãƒ™ãƒ«ä»˜ãå¤šæ¬¡å…ƒé…åˆ—ã¨ã„ã†ã®ã¯çµæ§‹éœ€è¦ãŒã‚ã‚‹ã¯ãšã§ã™ã€‚\nãã“ã§ã€ã“ã®è¨˜äº‹ã‚’å«ã‚€ä¸€é€£ã®è¨˜äº‹ã§ã¯ã€xarrayã«ã¤ã„ã¦ï¼ˆè‡ªåˆ†ã®ç†è§£ã‚’æ·±ã‚ã‚‹æ„å‘³ã§ã‚‚ï¼‰ç´¹ä»‹ã—ã¾ã™ã€‚ ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã€xarrayã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚„ãƒ¡ã‚½ãƒƒãƒ‰ã¯pandasã®ãã‚Œã¨å…±é€šã™ã‚‹éƒ¨åˆ†ãŒå¤šã„ã®ã§ã€ã“ã‚Œã‚‰ã‚’æ¯”è¼ƒã—ã¦ã¾ã¨ã‚ã‚‹ã®ãŒè‰¯ã•ãã†ã§ã™ã€‚ ä»Šå›ã®è¨˜äº‹ã§ã¯xarrayã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®ã¿ã®ç´¹ä»‹ã§ã™ã€‚\nScope ä¸€é€£ã®è¨˜äº‹ã‚’æ›¸ãéš›ã«ä½¿ç”¨ã—ãŸxarrayã€pandasã€ãŠã‚ˆã³NumPyã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚\n xarray: v0.12.1 pandas: v0.24.2 numpy: v1.16.3  ã“ã‚Œã‚‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; import pandas as pd \u0026gt;\u0026gt;\u0026gt; import xarray as xr \u0026gt;\u0026gt;\u0026gt; import numpy as np Data structures Dataset \u0026amp; DataArray ä»¥ä¸‹ã®å›³ã¯Datasetã¨å‘¼ã°ã‚Œã‚‹ã€pandasã§ã®DataFrameï¼ˆpd.DataFrameï¼‰ã«ç›¸å½“ã™ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ç¤ºã—ãŸã‚‚ã®ã§ã™ã€‚ ã“ã‚Œã¯ä¾‹ãˆã°ã€ã‚ã‚‹åœ°åŸŸã«ãŠã‘ã‚‹æ°—æ¸©ã¨é™æ°´é‡ã®ãƒ¡ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¼ã‚¿ã‚’ã€æ™‚ç³»åˆ—ã§ä¿å­˜ã—ãŸã‚‚ã®ã¨è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ã“ã“ã§ã€(x,y)ã¯ãƒ¡ãƒƒã‚·ãƒ¥åº§æ¨™ã€(lat, lon)ã¯çµŒç·¯åº¦åº§æ¨™ã¨ã—ã¦ã€åˆ¥ã€…ã«è¡¨ç¾ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ãªçŠ¶æ³ã§ã™ã€‚\n  dataset-diagram.png \nData Structures â€” xarray 0.12.1 documentation\n xarrayã§ã¯ã€pandasã®ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ï¼ˆpd.Seriesï¼‰ã«ç›¸å½“ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãŒå¤šæ¬¡å…ƒé…åˆ—ã«ãªã‚Šå¾—ã¾ã™ã€‚ ã“ã®å›³ã§ã¯ã€å…¨ã¦ã®è¦ç´ ãŒãã‚Œã«å½“ãŸã‚Šã€DataArrayï¼ˆxr.DataArrayï¼‰ã¨å‘¼ã°ã‚Œã¾ã™ã€‚\nCoordinates \u0026amp; dimensions pandasã§ã¯ç‰¹å®šã®ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ©ãƒ™ãƒ«ï¼ˆpd.Indexï¼‰ã«å‰²ã‚Šå½“ã¦ã¾ã™ãŒã€xarrayã§ã‚‚åŒæ§˜ã«ã€ç‰¹å®šã®ï¼ˆè¤‡æ•°ã‚‚å¯ï¼‰DataArrayã‚’ãƒ©ãƒ™ãƒ«åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ã“ã®å›³ã§ã¯ã€æ°—æ¸©ã¨é™æ°´é‡ãŒæ¸¬å®šãƒ‡ãƒ¼ã‚¿ãªã®ã§ã€ã“ã®2ã¤ä»¥å¤–ã®å…¨ã¦ã®è¦ç´ ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã®ãŒè‰¯ã•ãã†ã§ã™ã€‚ ãƒ©ãƒ™ãƒ«åŒ–ã•ã‚ŒãŸDataArray(s)ã¯**coordinate(s)**ã¨ç‰¹åˆ¥ã«å‘¼ã°ã‚Œã¾ã™ã€‚ ä¸€æ–¹ã€xarrayã§ã¯ãƒ©ãƒ™ãƒ«åŒ–ã«ã‚ˆã£ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå¤‰åŒ–ã™ã‚‹ï¼ˆi.e., pd.Seriesâ†’pd.Indexï¼‰ã“ã¨ã¯ãªãã€ã‚ãã¾ã§DataArrayã®ã¾ã¾ã§ã™ã€‚\næœ€å¾Œã«ã€pandasã«ã¯ãªã„æ¦‚å¿µã¨ã—ã¦ã€Datasetã‚„DataArrayã®å„æ¬¡å…ƒè»¸ã‚’è¦å®šã™ã‚‹**dimension(s)**ãŒã‚ã‚Šã¾ã™ã€‚ Dimensionsã¯è»¸åã¨è»¸ã®å€¤ã‚’æŒã¤ãƒ©ãƒ™ãƒ«ã¨ã—ã¦ã€1æ¬¡å…ƒã®DataArrayã§è¡¨ç¾ã•ã‚Œã¾ã™ã€‚ ã“ã‚Œã‚‰ã¯ã€coordinatesã¨ã¯åˆ¥ã«ç”Ÿæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã—ã€1æ¬¡å…ƒã®coordinatesã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ ã“ã®å›³ã§ã¯ã€ä¾‹ãˆã°(x, y, t)ã‚’dimensionsã«å‰²ã‚Šå½“ã¦ã‚‹ã®ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nã“ã‚Œã‚‰ã®æ¦‚å¿µã‚’pandasã¨ã®æ¯”è¼ƒã§ã¾ã¨ã‚ã‚‹ã¨ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚\n    xarray pandas     æ¬¡å…ƒè»¸ Dimension(s) (xr.DataArray) n/a   ãƒ©ãƒ™ãƒ« Coordinate(s) (xr.DataArray) (Multi)Index (pd.(Multi)Index)   ãƒ‡ãƒ¼ã‚¿ DataArray (xr.DataArray) Series (pd.Series)   ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ Dataset (xr.Dataset) DataFrame (pd.DataFrame)    Examples ä»¥ä¸Šã‚’è¸ã¾ãˆã€å®Ÿéš›ã«Datasetã‚’ç”Ÿæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€xarray documentationã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ä¾‹ã‚’å…ƒã«ã€ä¸Šã®èª¬æ˜ã«åˆã†ã‚ˆã†ã«æ›¸ãç›´ã—ãŸã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚ Dimensionsã¯dimsã¨ã—ã¦è»¸åã®ã‚¿ãƒ—ãƒ«ã§ã€coordinatesã¯coordsã¨ã—ã¦\u0026lt;name\u0026gt;: (\u0026lt;dims\u0026gt;, \u0026lt;value\u0026gt;)ã®è¾æ›¸ã§è¡¨ç¾ã•ã‚Œã¾ã™ã€‚\n# fix random seed np.random.seed(2019) # observed data temperature = 15 + 8*np.random.randn(2, 2, 3) precipitation = 10 * np.random.rand(2, 2, 3) # coordinates latitude = [[42.25, 42.21], [42.63, 42.59]] longitude = [[-99.83, -99.32], [-99.79, -99.23]] x = [\u0026#39;1\u0026#39;, \u0026#39;2\u0026#39;] y = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;] t = pd.date_range(\u0026#39;2014-09-06\u0026#39;, periods=3) reference_time = pd.Timestamp(\u0026#39;2014-09-05\u0026#39;) # create dataarrays dims = (\u0026#39;x\u0026#39;, \u0026#39;y\u0026#39;, \u0026#39;t\u0026#39;) coords = {\u0026#39;latitude\u0026#39;: ((\u0026#39;x\u0026#39;, \u0026#39;y\u0026#39;), latitude), \u0026#39;longitude\u0026#39;: ((\u0026#39;x\u0026#39;, \u0026#39;y\u0026#39;), longitude), \u0026#39;reference_time\u0026#39;: reference_time, \u0026#39;x\u0026#39;: (\u0026#39;x\u0026#39;, x), \u0026#39;y\u0026#39;: (\u0026#39;y\u0026#39;, y), \u0026#39;t\u0026#39;: (\u0026#39;t\u0026#39;, t)} temperature = xr.DataArray(temperature, coords, dims) precipitation = xr.DataArray(precipitation, coords, dims) # create dataset ds = xr.Dataset() ds[\u0026#39;temperature\u0026#39;] = temperature ds[\u0026#39;precipitation\u0026#39;] = precipitation DataArray ã¾ãšã¯DataArrayã‚’è¡¨ç¤ºã•ã›ã¦ã¿ã¾ã™ã€‚ ä»¥ä¸‹ã®ã‚ˆã†ã«ã€NumPy arrayã«coordinatesãŒãã£ã¤ã„ãŸæ–‡å­—åˆ—ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚ (x, y, t)ã«æ³¨ç›®ã™ã‚‹ã¨ã€åå‰ã®æ¨ªã«*ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ãŒã€ã“ã‚Œã‚‰ã®coordinatesãŒdimensionsã¨ã—ã¦å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; temperature \u0026lt;xarray.DataArray (x: 2, y: 2, t: 3)\u0026gt; array([[[13.258568, 21.571643, 26.850222], [25.654912, 12.105077, 20.484871]], [[19.590091, 17.301821, 13.114926], [22.627922, 1.482998, 12.240458]]]) Coordinates: latitude (x, y) float64 42.25 42.21 42.63 42.59 longitude (x, y) float64 -99.83 -99.32 -99.79 -99.23 reference_time datetime64[ns] 2014-09-05 * x (x) \u0026lt;U1 \u0026#39;1\u0026#39; \u0026#39;2\u0026#39; * y (y) \u0026lt;U1 \u0026#39;a\u0026#39; \u0026#39;b\u0026#39; * t (t) datetime64[ns] 2014-09-06 2014-09-07 2014-09-08 æ¬¡ã«ã€coordinateã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ ã“ã‚Œã‚‚ä¸Šã§èª¬æ˜ã—ãŸé€šã‚Šã€coordinatesã‚‚DataArrayã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ (lat, lon)ã¯dimensionsãŒ(x, y)ãªã®ã§ã€å…ƒã®DataArrayã®coordinatesã®ã†ã¡ã€(x, y)ã«å«ã¾ã‚Œã‚‹coordinatesï¼ˆlatè‡ªèº«ã‚‚å«ã‚€ï¼‰ãŒå¼•ãç¶™ãŒã‚Œã¦ã„ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; temperature.coords[\u0026#39;latitude\u0026#39;] \u0026lt;xarray.DataArray \u0026#39;latitude\u0026#39; (x: 2, y: 2)\u0026gt; array([[42.25, 42.21], [42.63, 42.59]]) Coordinates: latitude (x, y) float64 42.25 42.21 42.63 42.59 longitude (x, y) float64 -99.83 -99.32 -99.79 -99.23 reference_time datetime64[ns] 2014-09-05 * x (x) \u0026lt;U1 \u0026#39;1\u0026#39; \u0026#39;2\u0026#39; * y (y) \u0026lt;U1 \u0026#39;a\u0026#39; \u0026#39;b\u0026#39; æœ€å¾Œã«ã€å€‹ã€…ã®DataArrayã®æŒã¤NumPy arrayã«ã¯valuesã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; temperature.values array([[[13.25856829, 21.57164284, 26.85022247], [25.65491234, 12.10507702, 20.48487065]], [[19.59009141, 17.30182133, 13.11492592], [22.62792195, 1.48299758, 12.24045835]]]) Dataset Datasetã‚’è¡¨ç¤ºã•ã›ã¦ã¿ã¾ã™ã€‚ DataArrayã®ä¸€è¦§ãŒdata variablesã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ ãƒ‡ãƒ¼ã‚¿ãŒå¤šæ§˜ãªæ¬¡å…ƒã‚’æŒã¤ãŸã‚ã€pandas DataFrameã®ã‚ˆã†ãªè¡¨å½¢å¼ã®ã™ã£ãã‚Šã¨ã—ãŸè¡¨ç¤ºã«ã¯ãªã‚Šã¾ã›ã‚“ãŒã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ç†è§£ã—ã¦ã„ã‚Œã°æƒ…å ±ãŒã¾ã¨ã¾ã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; ds \u0026lt;xarray.Dataset\u0026gt; Dimensions: (t: 3, x: 2, y: 2) Coordinates: latitude (x, y) float64 42.25 42.21 42.63 42.59 longitude (x, y) float64 -99.83 -99.32 -99.79 -99.23 reference_time datetime64[ns] 2014-09-05 * x (x) \u0026lt;U1 \u0026#39;1\u0026#39; \u0026#39;2\u0026#39; * y (y) \u0026lt;U1 \u0026#39;a\u0026#39; \u0026#39;b\u0026#39; * t (t) datetime64[ns] 2014-09-06 2014-09-07 2014-09-08 Data variables: temperature (x, y, t) float64 13.26 21.57 26.85 ... 22.63 1.483 12.24 precipitation (x, y, t) float64 1.629 8.892 1.485 ... 5.783 2.993 8.372 æœ€å¾Œã«ã€å€‹ã€…ã®DataArrayã«ã¯è¾æ›¸å½¢å¼ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; ds[\u0026#39;temperature\u0026#39;] ä»Šå›ã¯ã“ã“ã¾ã§ã§ã™ã€‚ æ¬¡å›ã¯Datasetã€DataArrayã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’pandasã¨æ¯”è¼ƒã—ã¦ã¾ã¨ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nReferences  xarray: N-D labeled arrays and datasets in Python â€” xarray 0.12.1 documentation pandas: powerful Python data analysis toolkit â€” pandas 0.24.2 documentation Numpy and Scipy Documentation â€” Numpy and Scipy documentation  ","date":"2019-05-01T16:05:17+09:00","image":"https://astropengu.in/posts/29/image_huab13b69368037f19875f50bf380cdf80_225815_120x120_fill_q75_box_smart1.jpg","permalink":"https://astropengu.in/posts/29/","title":"Pandasã¨ã‚»ãƒƒãƒˆã§ç†è§£ã™ã‚‹xarrayï¼šãƒ‡ãƒ¼ã‚¿æ§‹é€ ç·¨"},{"content":"TL;DR ğŸŒ¸ ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã® Hugo theme ã¨ã—ã¦ã€ã—ã°ã‚‰ãã®é–“ Minimo ã‚’ä½¿ã£ã¦ãã¾ã—ãŸãŒã€ æ–°å¹´åº¦ã‚’è¿ãˆã¦å¿ƒæ©Ÿä¸€è»¢ï¼Ÿã¨ã„ã†ã“ã¨ã§ã•ã‚‰ã«ãƒŸãƒ‹ãƒãƒ ãª Hello Friend ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚ ã‚µã‚¤ãƒ‰ãƒãƒ¼ãªã—ã® one column ã§ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã®å³ä¸Šã‹ã‚‰ãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã®åˆ‡ã‚Šæ›¿ãˆã‚’ãƒ¦ãƒ¼ã‚¶å´ã§ã§ãã¾ã™ã€‚ ã‹ãªã‚Šã‚·ãƒ³ãƒ—ãƒ«ãªä½œã‚Šã®ãƒ†ãƒ¼ãƒã®ãŸã‚ã€ã“ã‚Œã¾ã§ Minimo ã§ã¯ã§ãã¦ã„ãŸã‚µã‚¤ãƒˆå†…æ¤œç´¢ãªã©ã€ã„ãã¤ã‹ã®æ©Ÿèƒ½ãŒç¾åœ¨ä½¿ãˆã¾ã›ã‚“ãŒã€è¿‘ã„ã†ã¡ã«å®Ÿè£…ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\nReferences  Hugo Minimo Hello Friend  ","date":"2019-04-15T11:00:49+09:00","permalink":"https://astropengu.in/posts/28/","title":"Hugo theme ã‚’å¤‰æ›´ã—ã¾ã—ãŸ"},{"content":"TL;DR â˜ƒï¸ SSHã®å…¬é–‹éµé…å¸ƒã‚’ç°¡å˜ã«ã‚„ã‚‹ ã‚’èª­ã‚“ã§ãªã‚‹ã»ã©ãªã¨æ€ã£ãŸã®ã§ã€è‡ªåˆ†ã®ç’°å¢ƒã§ã‚‚ã‚„ã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚ ã¤ã¾ã‚Šã€GitHub ã«ç™»éŒ²ã—ãŸ SSH å…¬é–‹éµãŒ URL ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’åˆ©ç”¨ã—ã¦ã€ã“ã‚Œã‚’å„ç¨®ã‚µãƒ¼ãƒã«è¨­ç½®ã™ã‚‹å…¬é–‹éµã¨ã—ã¦ä½¿ãŠã†ã¨ã„ã†ã“ã¨ã§ã™ã€‚ æš—å·å¼·åº¦ã«ã•ãˆæ°—ã‚’ä½¿ã£ã¦ã„ã‚Œã°ã€é¢å€’ãªå…¬é–‹éµã®ã‚µãƒ¼ãƒã¸ã®è¨­ç½®ã‚’ã‚³ãƒãƒ³ãƒ‰ä¸€ç™ºã§è¡Œã†ã“ã¨ãŒã§ãã€ã¤ã„ã§ã« GitHub clone/push ãªã©ã‚‚ SSH çµŒç”±ã§è¡Œã†ã“ã¨ãŒã§ãã‚‹ (HTTPS ã®å ´åˆã® personal token ãŒä¸è¦) ã®ãŸã‚ä¾¿åˆ©ãã†ã§ã™ã€‚\nOperation policy  ç§˜å¯†éµ (ã¨å…¬é–‹éµ) ã®ç”Ÿæˆã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã”ã¨ã« 1 å€‹ã ã‘ä½œæˆã™ã‚‹  ã“ã®éš›ã€æš—å·å¼·åº¦ã¯ååˆ†é«˜ã‚ã‚‹ (RSA 4096 bit ãªã©)   å…¬é–‹éµã¯ GitHub ã§å…¬é–‹ã—ã€ã“ã‚Œã‚’ã‚µãƒ¼ãƒã® ~/.ssh/authorized_keys ã«ç™»éŒ²ã™ã‚‹  ç™»éŒ²ã¯ã€(ã‚µãƒ¼ãƒã®ãƒãƒƒãƒˆæ¥ç¶šå‰æã ãŒ) ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§è¡Œãˆã‚‹    $ curl -sS https://github.com/astropenguin.keys \u0026gt;\u0026gt; ~/.ssh/authorized_keys Make an SSH key pair on client ã“ã“ã§ã¯ä»®ã« test_rsa 1ã¨ã„ã†ç§˜å¯†éµã‚’ä½œæˆã—ã€å…¬é–‹éµ test_rsa.pub ã‚’å…¬é–‹ã™ã‚‹ã¨ã—ã¾ã™ã€‚ ã¾ãšã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§æ–°è¦éµã‚’ä½œæˆã—ã¾ã™ã€‚ ã“ã®éš›ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ RSA 2048 bit ã®éµé•·ã¨ãªã‚‹ã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ˜ç¤ºçš„ã«å¤‰æ›´ã—ã¾ã™ã€‚\n$ cd ~/.ssh $ ssh-keygen -t rsa -b 4096 -C user@host -f test_rsa -t ã§éµã®ç¨®é¡ã‚’ã€ -b ã§éµé•·ã‚’ã€ -C ã§å…¬é–‹éµã®æœ€å¾Œã«æ›¸ã‹ã‚Œã‚‹ã‚³ãƒ¡ãƒ³ãƒˆ2ã‚’ã€ -f ã§ç§˜å¯†éµã®åå‰ã‚’æŒ‡å®šã—ã¾ã™ã€‚ å‡ºæ¥ä¸ŠãŒã£ãŸéµãŒæ‰€æœ›ã®ç¨®é¡ã€éµé•·ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ã¦ãŠãã¾ã™ã€‚\n$ ssh-keygen -lf test_rsa 4096 SHA256:wXz5ff3T9ETG+exBF5IpzvRwhJcpOidKexcvkA61Kn0 user@host (RSA) ä¸Šè¨˜ã®è¨­å®šé€šã‚Šã®å†…å®¹ã«ãªã£ã¦ã„ã‚‹ã®ã§å¤§ä¸ˆå¤«ã§ã™ã­ã€‚\nPaste public key on GitHub ä¸Šè¨˜ã§ä½œæˆã—ãŸ å…¬é–‹éµã‚’ GitHub ã«ç™»éŒ²ã—ã¾ã™ã€‚ ã¾ãšã€å…¬é–‹éµã®ä¸­èº«ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ä½•ã‚‰ã‹ã®æ–¹æ³•ã§ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚ ã¡ãªã¿ã« macOS ãªã‚‰ã°ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«å…¥ã‚Šã¾ã™ã€‚\n$ cat test_rsa.pub | pbcopy æ¬¡ã«ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ https://github.com/settings/keys ã‚’é–‹ãã€ New SSH Key ã‹ã‚‰å…¬é–‹éµã‚’ç™»éŒ²ã—ã¾ã™ã€‚ Title ã®éƒ¨åˆ†ã«ã¯éµã®ã‚³ãƒ¡ãƒ³ãƒˆ (user@host) ã‚’æ›¸ã„ã¦ãŠãã¨è‰¯ã„ã§ã—ã‚‡ã†3ã€‚\n \næœ€å¾Œã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ SSH çµŒç”±ã§ GitHub ã«æ¥ç¶šã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ ä»¥ä¸‹ã®ã‚ˆã†ã« successfully authenticated ã¨è¨€ã‚ã‚Œã‚Œã° OK ã§ã™ã€‚\n$ ssh -T -i test_rsa git@github.com Hi astropenguin! You\u0026#39;ve successfully authenticated, but GitHub does not provide shell access. References  SSHã®å…¬é–‹éµé…å¸ƒã‚’ç°¡å˜ã«ã‚„ã‚‹ | ç¶ºéº—ã«æ­»ã¬ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢    å®Ÿéš›ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå (id_rsa) ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–“ã§å…±é€šã«ã—ã¦ãŠãã¨è‰²ã€…ä¾¿åˆ©ã ã¨æ€ã„ã¾ã™ã€‚ \u0026#x21a9;\u0026#xfe0e;\n ã‚³ãƒ¡ãƒ³ãƒˆã¯ GitHub ã«ç™»éŒ²ã—ãŸéš›ã«æ¶ˆã•ã‚Œã¦ã—ã¾ã†ã‚ˆã†ã§ã™ãŒã€å¿µã®ãŸã‚æ›¸ã„ã¦ãŠãæ–¹ãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚ \u0026#x21a9;\u0026#xfe0e;\n ä½•ã‚‚æ›¸ã‹ãªã„ã¨ã€å…¬é–‹éµã«æ›¸ã‹ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆãŒè‡ªå‹•çš„ã«å…¥ã‚‹ã‚ˆã†ã§ã™ã€‚ \u0026#x21a9;\u0026#xfe0e;\n   ","date":"2019-02-11T16:14:36+09:00","permalink":"https://astropengu.in/posts/27/","title":"GitHub ã§ SSH å…¬é–‹éµã‚’å…¬é–‹ã™ã‚‹"},{"content":"TL;DR â˜ƒï¸ Matplotlib ã§ãƒ—ãƒ­ãƒƒãƒˆä»¥å¤–ã®ä½™ç™½éƒ¨åˆ†ã‚’é€æ˜ã«ã—ãŸå›³ã‚’ä¿å­˜ã™ã‚‹éš›ã®ãƒ¡ãƒ¢ã§ã™ã€‚ ä½•ã‚‚è€ƒãˆãšã« plt.savefig() ã§ transparent=True ã¨ã—ã¦ã—ã¾ã†ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ—ãƒ­ãƒƒãƒˆéƒ¨åˆ†ã‚‚é€æ˜ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\n   transparent=False transparent=True            ã“ã®æŒ™å‹•ã¯ã€plt.savefig() ã® docstrings ã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚\n If True, the axes patches will all be transparent; the figure patch will also be transparent unless facecolor and/or edgecolor are specified via kwargs. This is useful, for example, for displaying a plot on top of a colored background on a web page. The transparency of these patches will be restored to their original values upon exit of this function.\n Make only margins transparent ãã“ã§ã€transparent ã‚’æŒ‡å®šã™ã‚‹ã®ã§ã¯ãªãã€å›³å…¨ä½“ã®èƒŒæ™¯ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (fig.patch) ã‚’æ˜ç¤ºçš„ã«é€æ˜ã«ã—ã¦ã—ã¾ã†ã“ã¨ã«ã—ã¾ã™ã€‚ ã“ã‚Œã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã§å®Ÿç¾ã§ãã‚‹ã¯ãšã§ã™ã€‚\nimport matplotlib.pyplot as plt plt.style.use(\u0026#39;fivethirtyeight\u0026#39;) # make fig, axes and plot something fig, ax = plt.subplots(...) ax.plot(...) # make figure\u0026#39;s background tranparent fig.patch.set_alpha(0) # save figure fig.savefig(...) ã“ã‚Œã®çµæœã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚ ä½™ç™½éƒ¨åˆ†ã ã‘ãŒé€æ˜ã«ãªã£ã¦ãŠã‚Šã€ãƒ—ãƒ­ãƒƒãƒˆã®éƒ¨åˆ†ã¯æŒ‡å®šã—ãŸã‚¹ã‚¿ã‚¤ãƒ«é€šã‚Šã®è‰²ãŒä»˜ã„ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚\n   transparent=False patch.set_alpha(0)            References  æ—©ãçŸ¥ã£ã¦ãŠããŸã‹ã£ãŸmatplotlibã®åŸºç¤çŸ¥è­˜ã€ã‚ã‚‹ã„ã¯è¦‹ãŸç›®ã®èª¿æ•´ãŒæ—ã‚‹Artistã®è©± - Qiita  ","date":"2019-02-11T16:00:09+09:00","permalink":"https://astropengu.in/posts/26/","title":"Matplotlib ã§å›³ã®ä½™ç™½ã®ã¿ã‚’é€æ˜ã«ã™ã‚‹"},{"content":"TL;DR ğŸ ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æ‰±ã† Python ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’é–‹ç™ºã—ãŸéš›ã«èª¿ã¹ãŸæƒ…å ±ã‚’ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚ ãã‚‚ãã‚‚ Python ã«ãŠã‘ã‚‹ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã¯ã€tzinfo ã¨å‘¼ã°ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã£ã¦è¡¨ç¾ã•ã‚Œã¾ã™ã€‚ ã“ã‚Œã¯ã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® datetime.tzinfo ã‚¯ãƒ©ã‚¹ã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã¨ã—ã¦ã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® datetime.timezone ã‚„å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª pytz ã«ã‚ˆã£ã¦æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚\nä»¥ä¸‹ã§ã¯ã€ã“ã‚Œã‚‰ã‚’ä½¿ã£ã¦ã©ã®ã‚ˆã†ã« tzinfo ã‚’å–å¾—ãƒ»ä½¿ç”¨ã§ãã‚‹ã®ã‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ ãã®éš›ã€Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; import pytz \u0026gt;\u0026gt;\u0026gt; import geocoder \u0026gt;\u0026gt;\u0026gt; from timezonefinder import TimezoneFinder \u0026gt;\u0026gt;\u0026gt; from datetime import datetime, timedelta, timezone, tzinfo ã“ã®ã†ã¡ã€pytzãƒ»geocoderãƒ»timezonefinder ã¯å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ ãŸã ã—ã€pytz ã¯ Python documentation ã§ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€ã»ã¨ã‚“ã©æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªçš„ãªæ‰±ã„ã‚’ã•ã‚Œã¦ã„ã‚‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚\nHow to get tzinfo tzinfo ã‚’æ§˜ã€…ãªæ–¹æ³•ã§å–å¾—ã™ã‚‹æ–¹æ³•ã‚’ã¾ã¨ã‚ã¾ã™ã€‚ ã“ã“ã§ã¯ datetime.tzinfo ã‚¯ãƒ©ã‚¹ã¨åŒºåˆ¥ã™ã‚‹ãŸã‚ã€å–å¾—ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å¤‰æ•°åã¯ tz ã¨ã—ã¦æ›¸ã„ã¦ã„ã¾ã™ã€‚\nã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ ID ã‹ã‚‰æŒ‡å®šã™ã‚‹ ã¾ãšã¯ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ãªæ–¹æ³•ã‹ã‚‰ã€‚ ä¾‹ãˆã°ã€æ—¥æœ¬ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ ID ã¯ Asia/Tokyo ãªã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã« tzinfo ã‚’å–å¾—ã—ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; query = \u0026#39;Asia/Tokyo\u0026#39; \u0026gt;\u0026gt;\u0026gt; tz = pytz.timezone(query) \u0026gt;\u0026gt;\u0026gt; tz \u0026lt;DstTzInfo \u0026#39;Asia/Tokyo\u0026#39; LMT+9:19:00 STD\u0026gt; ã¡ãªã¿ã«ã€å…¨ã¦ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ ID ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; pytz.all_timezones [\u0026#39;Africa/Abidjan\u0026#39;, \u0026#39;Africa/Accra\u0026#39;, \u0026#39;Africa/Addis_Ababa\u0026#39;, ..., \u0026#39;Zulu\u0026#39;] UTC ã‹ã‚‰ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆå€¤ã§æŒ‡å®šã™ã‚‹ UTC (å”å®šä¸–ç•Œæ™‚) ã‹ã‚‰ã®ä»»æ„ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆå€¤ã‚’æŒã¤ tzinfo ã‚’å–å¾—ã—ãŸã„ã¨ãã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; query = 9.0 \u0026gt;\u0026gt;\u0026gt; tz = timezone(timedelta(hours=query)) \u0026gt;\u0026gt;\u0026gt; tz datetime.timezone(datetime.timedelta(0, 32400)) ä»¥ä¸‹ã®ã‚ˆã†ã«æ–‡å­—åˆ—ã«å¤‰æ›ã™ã‚‹ã“ã¨ã§èª­ã¿ã‚„ã™ã„æ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; str(tz) \u0026#39;UTC+09:00\u0026#39; çµŒåº¦ç·¯åº¦ã‹ã‚‰æ±‚ã‚ã‚‹ å®Ÿéš›ã®é–‹ç™ºã§ã¯ã€ã‚ã‚‹å ´æ‰€ã®çµŒåº¦ç·¯åº¦ã‹ã‚‰ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æ±‚ã‚ãŸã„å ´åˆã‚‚å¤šã„ã¨æ€ã„ã¾ã™ã€‚ ãã®éš›ã¯ã€å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª timezonefinder ã‚’ä½¿ã†ã“ã¨ã§ç°¡å˜ã«å–å¾—ã§ãã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; query = {\u0026#39;lng\u0026#39;: 135, \u0026#39;lat\u0026#39;: 35} \u0026gt;\u0026gt;\u0026gt; tf = TimezoneFinder() \u0026gt;\u0026gt;\u0026gt; tz = pytz.timezone(tf.timezone_at(**query)) \u0026gt;\u0026gt;\u0026gt; tz \u0026lt;DstTzInfo \u0026#39;Asia/Tokyo\u0026#39; LMT+9:19:00 STD\u0026gt; ã¡ãªã¿ã«ã€æ¤œç´¢ã™ã‚‹ã¨ pytzwhere ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ä¾‹ã‚’è¦‹ã‹ã‘ã¾ã™ãŒã€timezonefinder ã®æ–¹ãŒçœãƒ¡ãƒ¢ãƒªã‹ã¤é«˜é€Ÿã ãã†ã§ã™ã€‚ æœ€è¿‘ã®é–‹ç™ºã‚‚ã“ã¡ã‚‰ã®æ–¹ãŒæ´»ç™ºã£ã½ã„ã®ã§ã€ã“ã‚Œã‚’ä½¿ã£ã¦ãŠãã®ãŒè‰¯ã•ãã†ã§ã™ã€‚\n Comparison to pytzwhere - MrMinimal64/timezonefinder  å ´æ‰€åã‹ã‚‰æ±‚ã‚ã‚‹ ã•ã‚‰ã«ã€ã‚ã‚‹å ´æ‰€åã‹ã‚‰ç›´æ¥ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æ±‚ã‚ãŸã„å ´åˆã€å ´æ‰€åâ†’çµŒåº¦ç·¯åº¦ã¸ã®å¤‰æ›ã‚’ä½•ã‹ã—ã‚‰ã®æ–¹æ³•ã§è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ã“ã“ã§ã¯ã€OpenStreetMap ã‹ã‚‰ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒå¯èƒ½ãª geocoder ã‚’ä½¿ã£ãŸä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; query = \u0026#39;åå¤å±‹å¸‚\u0026#39; \u0026gt;\u0026gt;\u0026gt; g = geocoder.osm(query) \u0026gt;\u0026gt;\u0026gt; lnglat = {\u0026#39;lng\u0026#39;: g.lng, \u0026#39;lat\u0026#39;: g.lat} \u0026gt;\u0026gt;\u0026gt; tf = TimezoneFinder() \u0026gt;\u0026gt;\u0026gt; tz = pytz.timezone(tf.timezone_at(**lnglat)) \u0026gt;\u0026gt;\u0026gt; tz \u0026lt;DstTzInfo \u0026#39;Asia/Tokyo\u0026#39; LMT+9:19:00 STD\u0026gt; ä»–ã«ã‚‚ã€Google Maps API ã§ API ã‚­ãƒ¼ã‚’å–å¾—ã—ã¦ã€Time Zone API ã‚’å©ãã¨ã„ã£ãŸæ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; import googlemaps \u0026gt;\u0026gt;\u0026gt; client = googlemaps.Client(key) \u0026gt;\u0026gt;\u0026gt; result = client.timezone((lat, lng)) \u0026gt;\u0026gt;\u0026gt; tz = result[\u0026#39;timeZoneId\u0026#39;] UTC ã‚’æŒ‡å®šã™ã‚‹ æœ€å¾Œã«ã€UTC ã¯å„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ç‰¹åˆ¥ãªæ–¹æ³•ã§æŒ‡å®šã—ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; tz = pytz.utc # also: pytz.UTC or timezone.utc \u0026gt;\u0026gt;\u0026gt; tz \u0026lt;UTC\u0026gt; How to use tzinfo å–å¾—ã—ãŸ tzinfo (tz) ã®å®Ÿéš›ã®ä½¿ã„æ–¹ã‚’ã¾ã¨ã‚ã¾ã™ã€‚ ã¾ãšã€ä¸Šã§ã©ã®æ‰‹æ³•ã§å–å¾—ã—ãŸ tz ã‚‚ datetime.tzinfo ã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚\n\u0026gt;\u0026gt;\u0026gt; isinstance(tz, tzinfo) True æ—¥ä»˜ã«å¿œã˜ãŸã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æ±‚ã‚ã‚‹ å¤æ™‚é–“ã‚’æ¡ç”¨ã™ã‚‹åœ°åŸŸã§ã¯ã€æ—¥ä»˜ã«ã‚ˆã£ã¦ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³åã¨ UTC ã‹ã‚‰ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆå€¤ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚ tzinfo ã§ã¯ä»¥ä¸‹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ datetime.datetime ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸ãˆã‚‹ã“ã¨ã§ã€æ—¥ä»˜ã«å¿œã˜ãŸå€¤ã®å–å¾—ãŒå¯èƒ½ã§ã™ã€‚ ã¾ãšã¯ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³åã‹ã‚‰ã€‚\n\u0026gt;\u0026gt;\u0026gt; tz = pytz.timezone(\u0026#39;Europe/Amsterdam\u0026#39;) \u0026gt;\u0026gt;\u0026gt; tz.tzname(datetime(2019, 1, 1)) \u0026#39;CET\u0026#39; \u0026gt;\u0026gt;\u0026gt; tz.tzname(datetime(2019, 8, 1)) \u0026#39;CEST\u0026#39; æ¬¡ã« UTC ã‚ªãƒ•ã‚»ãƒƒãƒˆå€¤ã€‚ ã“ã¡ã‚‰ã¯ã€datetime.timedelta ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã£ã¦è¡¨ç¾ã•ã‚Œã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; tz.utcoffset(datetime(2019, 1, 1)) datetime.timedelta(0, 3600) # UTC+01:00 \u0026gt;\u0026gt;\u0026gt; tz.utcoffset(datetime(2019, 8, 1)) datetime.timedelta(0, 7200) # UTC+02:00 ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æŒã¤æ—¥ä»˜ã‚’æ‰±ã† Python ã®æ—¥ä»˜ã¯ã€datetime.datetime ã« tzinfo ã‚’æŒ‡å®šã—ãªã„å ´åˆã¯ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æŒãŸãªã„ (timezone-naive ãª) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€æŒ‡å®šã—ãŸå ´åˆã¯ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æŒã¤ (timezone-aware ãª) ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãªã‚Šã¾ã™ã€‚ ä¾‹ãˆã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã« datetime ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸå ´åˆã¯ timezone-naive ã¨ãªã‚Šã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; dt_naive = datetime(2019, 1, 1) datetime.datetime(2019, 1, 1, 0, 0) # timezone-naive timezone-aware ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã« localize ãƒ¡ã‚½ãƒƒãƒ‰ã« timezone-naive ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸ãˆã¦ã‚ã’ã‚‹ã“ã¨ã§ä½œæˆã—ã¾ã™ã€‚ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤ºã™ã‚‹ã¨ã€tzinfo ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; dt_aware = tz.localize(dt_naive) \u0026gt;\u0026gt;\u0026gt; dt_aware datetime.datetime(2019, 1, 1, 0, 0, tzinfo=\u0026lt;DstTzInfo \u0026#39;Europe/Amsterdam\u0026#39; CET+1:00:00STD\u0026gt;) ã¡ãªã¿ã«ã€timezone-aware â†’ timezone-naive ã®å¤‰æ›ã¯ã€ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; dt_aware.replace(tzinfo=None) datetime.datetime(2019, 1, 1, 0, 0) ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã®å¤‰æ› timezone-aware ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€astimezone ãƒ¡ã‚½ãƒƒãƒ‰ã§ä»–ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ä¾‹ãˆã°ã€ã‚ã‚‹ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã§ã®æ™‚åˆ»ãŒ UTC ã§ä½•æ™‚ãªã®ã‹ã‚’èª¿ã¹ãŸã„å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; dt_aware.astimezone(pytz.utc) datetime.datetime(2018, 12, 31, 23, 0, tzinfo=\u0026lt;UTC\u0026gt;) ã¡ãªã¿ã«ã€å¼•æ•°ã«ä½•ã‚‚ä¸ãˆãªã„ã¨ã€ãƒã‚·ãƒ³ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã«å¤‰æ›ã•ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; dt_aware.astimezone() datetime.datetime(2019, 1, 1, 8, 0, tzinfo=datetime.timezone(datetime.timedelta(0, 32400), \u0026#39;JST\u0026#39;)) References  datetime \u0026mdash; åŸºæœ¬çš„ãªæ—¥ä»˜å‹ãŠã‚ˆã³æ™‚é–“å‹ â€” Python documentation Python è£½ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒª Geocoder ã‚’è©¦ã™ - Astropenguin  ","date":"2019-01-19T20:50:59+09:00","permalink":"https://astropengu.in/posts/25/","title":"Python ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³é–¢é€£ã¾ã¨ã‚"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®18æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ã ã„ã¶æ—¥ãŒé–‹ã„ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€å‰å›ã®ç¶šã ã¨ã—ã¦ã€Hugo ã§ä½œæˆã—ãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ Travis CI ã§è‡ªå‹•ãƒ“ãƒ«ãƒ‰â†’ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã‚ã®è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚\n","date":"2018-12-18T22:44:00+09:00","permalink":"https://astropengu.in/posts/24/","title":"Hugo ã‚’ä½¿ã£ãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ä½œæˆ: Travis CI ã®è¨­å®š"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®17æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯ã€Python ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ä½¿ã‚ã‚Œã‚‹ setup.py ã®å†…å®¹ã‚’ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« setup.cfg ã«åˆ‡ã‚Šå‡ºã—ã¦ç®¡ç†ã™ã‚‹ãŸã‚ã®æ–¹æ³•ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\nsetup.py \u0026amp; setup.cfg setup.py ã¯ã€Python ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ pip ãªã©ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹éš›ã«ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æƒ…å ±ã‚„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ãªã©ã‚’è¨˜è¿°ã—ãŸ Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚ 2018å¹´ç¾åœ¨ã¯ã€ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä¸­ã§ setuptools ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚\nfrom setuptools import setup setup(name=\u0026#39;sample\u0026#39;, version=\u0026#39;0.1\u0026#39;, author=\u0026#39;astropenguin\u0026#39;, ...) setup é–¢æ•°ã®å¼•æ•°ã¯å°‘ãªã„å ´åˆã§ã‚‚10å€‹è¿‘ãã‚ã‚‹ãŸã‚ã€ã“ã‚Œã‚’ã‚³ãƒ¼ãƒ‰ã‹ã‚‰åˆ†é›¢ã—ã¦ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ç®¡ç†ã§ãã‚‹ã¨è‰¯ã•ãã†ã§ã™ã€‚ ãã®ã‚ˆã†ãªç†ç”±ã§ setuptools v30.3.0 (2016å¹´12æœˆ) ã‹ã‚‰ã€setup.py ã¨åŒéšå±¤ã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« setup.cfg ã‚’ç½®ãã¨ã€setup é–¢æ•°ã®å®Ÿè¡Œæ™‚ã«ã“ã‚Œã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ãªã£ãŸãã†ã§ã™ã€‚ ã“ã®å ´åˆã® setup.py ã¯ä»¥ä¸‹ã‚’æ›¸ãã ã‘ã§ OK ã§ã™ã€‚\nfrom setuptools import setup setup() # without any parameters! Example of setup.cfg å®Ÿéš›ã® setup.cfg ã®æ›¸ãæ–¹ã¯ã€Configuring setup() using setup.cfg files ã«ã¾ã¨ã¾ã£ã¦ã„ã¾ã™ã€‚ ä»¥ä¸‹ã¯ã“ã®ãƒšãƒ¼ã‚¸ã«è¼‰ã£ã¦ã„ãŸæ›¸ãæ–¹ã®å¼•ç”¨ã§ã™ã€‚\n[metadata] name = my_package version = attr: src.VERSION description = My package description long_description = file: README.rst, CHANGELOG.rst, LICENSE.rst keywords = one, two license = BSD 3-Clause License classifiers =Framework :: Django Programming Language :: Python :: 3 Programming Language :: Python :: 3.5 [options] zip_safe = False include_package_data = True packages = find: scripts =bin/first.py bin/second.py install_requires =requests importlib; python_version == \u0026#34;2.6\u0026#34; [options.package_data] * = *.txt, *.rst hello = *.msg [options.extras_require] pdf = ReportLab\u0026gt;=1.2; RXP rest = docutils\u0026gt;=0.3; pack ==1.1, ==1.3 [options.packages.find] exclude =src.subpackage1 src.subpackage2 [options.data_files] /etc/my_package =site.d/00_default.conf host.d/00_default.conf data = data/img/logo.png, data/svg/icon.svg ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ([name]) ã®æ›¸ãæ–¹ã‹ã‚‰ã€INIãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒæ§˜ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¨ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ ã“ã‚Œã‹ã‚‰ã€[metadata] ã¨ [options] ã®2ã¤ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰æ§‹æˆã•ã‚Œã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ ã¾ãŸã€[options] ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã¯ã€[options.name] ã®ã‚ˆã†ã« (ã‚µãƒ–) ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŒã£ã¦ã„ã¾ã™ã€‚\nãŸã ã—ã€ã‚³ãƒ¡ãƒ³ãƒˆé–‹å§‹æ–‡å­—ãŒã‚»ãƒŸã‚³ãƒ­ãƒ³ (;) ã§ã¯ãªããƒŠãƒ³ãƒãƒ¼ã‚µã‚¤ãƒ³ (#) ã§ã‚ã‚Šã€æ–‡å­—åˆ—ã®ã‚»ãƒŸã‚³ãƒ­ãƒ³åŒºåˆ‡ã‚Šã¯æ„å‘³ã‚’æŒã£ã¦ã„ã‚‹ã“ã¨ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚ ã“ã‚Œã‚‰ã®è¨˜æ³•ã¯ä»¥ä¸‹ã«ã¾ã¨ã¾ã£ã¦ã„ã¾ã™ã€‚\n metadata ã®è¨˜æ³• \u0026ndash; setuptools documentation options ã®è¨˜æ³• \u0026ndash; setuptools documentation  setuptools-py2cfg ã‚‚ã—ã™ã§ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã® setup.py ã‚’æ›¸ã„ã¦ã„ã‚‹ã®ã§ã‚ã‚Œã°ã€setuptools-py2cfg ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã£ã¦å†…å®¹ã‚’ setup.cfg ã«å¤‰æ›ã§ãã¾ã™ã€‚ è‰²ã€…ã¨è¦šãˆã‚‹ã‚ˆã‚Šã‚‚ã€ã¾ãšã¯ã“ã‚Œã§å¤‰æ›ã—ã¦ã¿ã‚‹æ–¹ãŒæ¥½ãªæ°—ãŒã—ã¾ã—ãŸã€‚\n$ pip install setuptools-py2cfg $ setuptools-py2cfg /path/to/setup.py pyproject.toml ã“ã®è¨˜äº‹ã‚’æ›¸ããŸã‚ã« setuptools é–¢é€£ã‚’èª¿ã¹ã¦ã„ãŸã¨ã“ã‚ã€ã“ã‚Œã‚‰ã¯ pyproject.toml ã¨ã„ã† PEP 518 ã§æ¨™æº–åŒ–ã•ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ç½®ãæ›ãˆã‚‰ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãã†ã§ã™ã€‚\n Pip builds packages by invoking the build system. Presently, the only supported build system is setuptools, but in the future, pip will support PEP 517 which allows projects to specify an alternative build system in a pyproject.toml file. - pip documentation\n ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã‚„ç’°å¢ƒæ§‹ç¯‰é–¢é€£ã¯ã€ã“ã®å…ˆã¾ã ã¾ã å¤‰åŒ–ãŒã‚ã‚Šãã†ã§ã™ã€‚ ãã‚Œã«ã—ã¦ã‚‚ã€TOML ãŒæœ¬æ ¼çš„ã« Python ã«å…¥ã£ã¦ãã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã®ã§ã™ã­\u0026hellip;\nReferences  Welcome to Setuptoolsâ€™ documentation! â€” setuptools documentation Configuring setup() using setup.cfg files â€” setuptools documentation setuptools-py2cfg PEP 518 -- Specifying Minimum Build System Requirements for Python Projects | Python.org Poetry: Python ã®ä¾å­˜é–¢ä¿‚ç®¡ç†ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã‚’æ”¯æ´ã™ã‚‹ãƒ„ãƒ¼ãƒ« | org-æŠ€è¡“ Pythonã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã¨ç§  ","date":"2018-12-17T20:43:36+09:00","permalink":"https://astropengu.in/posts/23/","title":"Python ã® setup.py ã®å†…å®¹ã‚’ setup.cfg ã§ç®¡ç†ã™ã‚‹"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®16æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯é›‘ã§ã™ãŒã€Hugo ã«æ¨™æº–ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã€ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã£ãŸãƒ¡ãƒ‡ã‚£ã‚¢ã®åŸ‹ã‚è¾¼ã¿ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nEmbedding an Instagram photo Hugo ã¯ {{/* params */}} ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€å„ç¨®ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ ä¾‹ãˆã°ã€ä¸‹ã®å†™çœŸã¯ä»¥ä¸‹ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ã§åŸ‹ã‚è¾¼ã‚“ã§ã„ã¾ã™ã€‚\n{{\u0026lt; instagram BrfsVjEhud0 hidecaption \u0026gt;}} \u0026lt;script\u0026gt; ã‚¿ã‚°ã‚’ä½¿ã£ã¦åŸ‹ã‚è¾¼ã‚€ã‚ˆã‚Šã‚‚ç°¡å˜ã‹ã¤èª­ã¿ã‚„ã™ã„ Markdown ã«ãªã‚‹ã®ã§ä¾¿åˆ©ã§ã™ã­ã€‚ ã¡ãªã¿ã«ã€ã‚·ãƒ§ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ¼ãƒ‰ã¨ã—ã¦è¡¨ç¤ºã™ã‚‹éš›ã¯ã€ {{\u0026lt;/* params */\u0026gt;}} ã¨æ›¸ã‹ãªã„ã¨ \u0026lt;pre\u0026gt; ã‚¿ã‚°ã®ä¸­ã§ã‚‚ Hugo ã«ã‚ˆã£ã¦å¤‰æ›ã•ã‚Œã¦ã—ã¾ã†ãŸã‚æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nReferences  Shortcodes | Hugo  ","date":"2018-12-16T01:33:19+09:00","permalink":"https://astropengu.in/posts/22/","title":"Hugo shortcode ã‚’ä½¿ã£ãŸ Instagram åŸ‹ã‚è¾¼ã¿ãƒ†ã‚¹ãƒˆ"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®15æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯ã€Python ã®é–¢æ•°å‡ºåŠ›ã‚’ä¸€æ™‚çš„ã«å¤‰åŒ–ã•ã›ãªã„ã‚ˆã†ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã¨ã„ã†ã€ã‚ã‚Šã¨ãƒãƒ‹ã‚¢ãƒƒã‚¯ãªè©±ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nTemporary caching of function\u0026rsquo;s return ä¾‹ãˆã°ã€ãƒ¦ãƒ¼ã‚¶ã‹ã‚‰ã‚¯ã‚¨ãƒªã‚’å—ã‘å–ã‚Šã€ä½•ã‹ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã€è©²å½“ã™ã‚‹å€¤ã‚’è¿”ã™å‡¦ç†ã‚’è€ƒãˆã¾ã™ã€‚\ndef get_value(query): data = load(filename) return data[query] ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›´ãŒã‚ã£ãŸå ´åˆã‚‚ãã®éƒ½åº¦é–¢æ•°ãŒãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã€å¸¸ã«æœ€æ–°ã®å€¤ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ä¸€æ–¹ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å¤§é‡ã®ã‚¯ã‚¨ãƒªã‚’å‡¦ç†ã™ã‚‹å ´åˆã€ã‚¯ã‚¨ãƒªã®æ•°ã ã‘ãƒ­ãƒ¼ãƒ‰ãŒç™ºç”Ÿã™ã‚‹ã®ã§ã€ã‚‚ã—ãƒ•ã‚¡ã‚¤ãƒ«ãŒå·¨å¤§ãªå ´åˆI/Oã§éå¸¸ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã“ã¨ãŒäºˆæƒ³ã•ã‚Œã¾ã™ã€‚\nfor query in million_query_list: value = get_value(query) ... # å€¤ã«å¯¾ã™ã‚‹ä½•ã‹ã®å‡¦ç† ãã“ã§ã€get_value é–¢æ•°è‡ªä½“ã¯å¤‰æ›´ã™ã‚‹ã“ã¨ãªãã€for æ–‡ã®ä¸­ã ã‘ load é–¢æ•°ã®å‡ºåŠ›ã‚’å‡çµ (ã‚­ãƒ£ãƒƒã‚·ãƒ¥) ã™ã‚‹ã“ã¨ãŒã§ããªã„ã‹è€ƒãˆã¦ã¿ã¾ã™ã€‚ ã“ã‚Œã¯ã€load é–¢æ•°ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŒ–ã—ãŸé–¢æ•°ã‚’ä½œæˆã—ã€ä¸€æ™‚çš„ã« load é–¢æ•°ã¨ç½®ãæ›ãˆã¦ã‚ã’ã‚‹ã“ã¨ã§å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ ã¾ãŸã€\u0026quot;for æ–‡ã®ä¸­\u0026quot; ãªã©ã®ã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆã‚’æ‰±ã„ãŸã„ã®ã§ã€with æ–‡ã‚’ä½¿ã£ãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ã‚’ä½¿ã£ã¦ã‚ã’ã‚Œã°è‰¯ã„ã“ã¨ã‚‚åˆ†ã‹ã‚Šã¾ã™ã€‚\nFreeze context manager ã¨ã„ã†ã‚ã‘ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ã‚’ä½œæˆã—ã¾ã—ãŸã€‚ with freeze(func, module) ã®ã‚ˆã†ã«é–¢æ•°ã¨ã“ã‚ŒãŒå±ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä¸ãˆã‚‹ã“ã¨ã«ã‚ˆã‚Šã€with æ–‡ã®ä¸­ã§ã¯ func() ãŒæœ€åˆã«è¿”ã—ãŸå€¤ã‚’å¸¸ã«è¿”ã™ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nfrom inspect import getmodule class freeze: def __init__(self, func, module=None): self.func = func self.module = module or getmodule(func) def frozen(self, *args, **kwargs): if hasattr(self, \u0026#39;cache\u0026#39;): return self.cache self.cache = self.func(*args, **kwargs) return self.cache def __enter__(self): setattr(self.module, self.func.__name__, self.frozen) def __exit__(self, exc_type, exc_value, traceback): setattr(self.module, self.func.__name__, self.func) An example ã“ã‚Œã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ãªç¾åœ¨æ™‚åˆ»ã‚’è¿”ã™ now é–¢æ•°ã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nfrom datetime import datetime def now(): return datetime.now() ã“ã‚Œã‚’æ™®é€šã«3é€£ç¶šã§å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒã‚¤ã‚¯ãƒ­ç§’å˜ä½ã§ç•°ãªã‚‹æ™‚é–“ã‚’è¿”ã™ã¯ãšã§ã™ã€‚\nprint(now()) print(now()) print(now()) # 2018-12-15 23:08:20.573039 # 2018-12-15 23:08:20.573235 # 2018-12-15 23:08:20.573312 ä»Šåº¦ã¯ã“ã‚Œã‚’ã€freeze ã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ã®ä¸‹ã§å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\nwith freeze(now): print(now()) print(now()) print(now()) print(now()) # 2018-12-17 23:08:29.831403 # 2018-12-17 23:08:29.831403 # 2018-12-17 23:08:29.831403 # 2018-12-17 23:08:29.831526 ã“ã®ã‚ˆã†ã«ã€with æ–‡ä¸­ã§ã¯ã€æœ€åˆã«å‘¼ã³å‡ºã•ã‚ŒãŸæ™‚åˆ»ã‚’è¿”ã—ç¶šã‘ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ ã¾ãŸã€with æ–‡ã®å¤–ã§ã¯ã€å†ã³ç¾åœ¨æ™‚åˆ»ã‚’è¿”ã—ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚\n","date":"2018-12-15T01:32:30+09:00","permalink":"https://astropengu.in/posts/21/","title":"Python ã§ä¸€æ™‚çš„ã«é–¢æ•°å‡ºåŠ›ã‚’å‡çµ (ã‚­ãƒ£ãƒƒã‚·ãƒ¥) ã™ã‚‹"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®14æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ 2018å¹´ã® Python ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¯ã˜ã‚ã‹ãŸ ã«ã‚‚ã‚ã‚‹ã‚ˆã†ã«ã€pipenv ã®ç™»å ´ã«ã‚ˆã£ã¦ Python ã§ã‚‚ä¾å­˜é–¢ä¿‚ (Python ãƒãƒ¼ã‚¸ãƒ§ãƒ³ + ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸) ã‚’ä¸¡æ–¹ç®¡ç†ã—ãŸç’°å¢ƒæ§‹ç¯‰ãŒç°¡å˜ã«ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ ãã†ãªã‚‹ã¨ã€IPython ã‚„ Jupyter ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãªã©ã‚’è¨˜è¿°ã§ãã‚‹ IPython ã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚‚ç’°å¢ƒã”ã¨ã«ç®¡ç†ã—ãŸã„ã¨ã“ã‚ã§ã™ã€‚ ãã“ã§ã€ã“ã®è¨˜äº‹ã§ã¯ pipenv ã§ä½œæˆã—ãŸç’°å¢ƒã§ã“ã‚Œã‚‰ã‚’ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ã¾ã¨ã‚ã¾ã™ã€‚\nCreate an environment å‰ææ¡ä»¶ã¨ã—ã¦ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ pipenv ã§ä½œæˆã—ãŸä»®æƒ³ç’°å¢ƒ (ã“ã“ã§ã¯åå‰ã‚’ env ã¨ã—ã¾ã™) ã¨ã€IPython/Jupyter ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã‚ã‚‹ã¨ã—ã¾ã™ã€‚ ç‰¹ã«æ˜è¨˜ãŒãªã„é™ã‚Šã€ã‚³ãƒãƒ³ãƒ‰ã¯ env ã‹ã‚‰å®Ÿè¡Œã—ã¦ã„ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚ ã¾ãŸã€ä»®æƒ³ç’°å¢ƒã« (pipenv shell ã§) å…¥ã£ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹å ´åˆã¯ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ (env) $  ã¨ã—ã¦è¡¨ã—ã¾ã—ãŸã€‚\n$ mkdir env \u0026amp;\u0026amp; cd env $ pipenv --python 3 $ pipenv install ipython jupyter IPython profile IPython é–¢é€£ã¯ã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã¨å‘¼ã°ã‚Œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã«ã‚ˆã£ã¦è¨­å®šã•ã‚Œã¾ã™ã€‚ é€šå¸¸ã“ã‚Œã¯ ipython profile create default ã«ã‚ˆã£ã¦ã€~/.ipython/profile_default ã«ä½œæˆã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã„ã¾ã™ãŒã€ä½•ã‚‚ã—ãªã„ã¨ä»®æƒ³ç’°å¢ƒã§ã‚‚ã“ã‚Œã‚’å¼•ãç¶™ã„ã§ä½¿ã£ã¦ã—ã¾ã†ãŸã‚ã€ã‚ã¾ã‚Šä½¿ã„å‹æ‰‹ãŒã‚ˆãã‚ã‚Šã¾ã›ã‚“ã€‚ ãã“ã§ã€env ä»¥ä¸‹ã«ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ã“ã‚Œã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†ã« pipenv ã‚’è¨­å®šã—ã¾ã™ã€‚\nã¾ãšã€.env ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’æ›¸ãè¾¼ã‚€ã“ã¨ã§ã€pipenv å®Ÿè¡Œæ™‚ã«ã¯ env/.ipython ãŒ ~/.ipython ã®ä»£ã‚ã‚Šã« IPython ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n$ echo IPYTHONDIR=`pwd`/.ipython \u0026gt;\u0026gt; .env ã“ã®çŠ¶æ…‹ã§ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã€env/.ipython/profile_default ãŒä½œæˆã•ã‚Œã¾ã™ã€‚\n$ pipenv shell (env) $ mkdir -p .ipython (env) $ ipython profile create default ä¾‹ãˆã°ã€ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ä½•ã‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n# import this ã§ Zen of Python ã‚’è¡¨ç¤º (env) $ echo \u0026#39;import this\u0026#39; \u0026gt;\u0026gt; .ipython/profile_default/startup/01.py ã“ã®çŠ¶æ…‹ã§ IPython shell ã‚’èµ·å‹•ã—ã¦ã¿ã¾ã™ã€‚ ä»¥ä¸‹ã®ã‚ˆã†ã«ã€Zen of Python ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ã€‚\n(env) $ ipython Loading .env environment variablesâ€¦ Python 3.6.5 (default, Jul 10 2018, 11:33:24) Type \u0026#39;copyright\u0026#39;, \u0026#39;credits\u0026#39; or \u0026#39;license\u0026#39; for more information IPython 7.2.0 -- An enhanced Interactive Python. Type \u0026#39;?\u0026#39; for help. The Zen of Python, by Tim Peters Beautiful is better than ugly. Explicit is better than implicit. ... Create a Jupyter kernel ä¸Šã§ä½œæˆã—ãŸãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ Jupyter Notebook ã§ã‚‚ä½¿ç”¨ã—ãŸã„å ´åˆã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å—ã‘å–ã‚Œã‚‹ã‚ˆã†ãª IPython kernel ã‚’ä½œæˆã—ã¦ã‚ã’ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã€.venv ä»¥ä¸‹ã«ã‚«ãƒ¼ãƒãƒ«ãŒä½œæˆã•ã‚Œã¾ã™ã€‚\n(env) $ ipython kernel install --sys-prefix --profile default --display-name Default Installed kernelspec python3 in /path/to/env/.venv/share/jupyter/kernels/python3 ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã†ã¡ã€--profile ã¯ IPython ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åã¨åŒã˜ã«ã—ã¦ãŠãã¾ã™ã€‚ --display-name ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã§è¡¨ç¤ºã•ã‚Œã‚‹ä»»æ„ã®ã‚«ãƒ¼ãƒãƒ«åã§ã™ã€‚ ã“ã®çŠ¶æ…‹ã§ Jupyter Notebook ã‚’èµ·å‹•ã—ã¦ã¿ã¾ã™ã€‚\n(env) $ jupyter notebook ã‚¦ã‚§ãƒ–ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã€æ–°è¦ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ä½œæˆ (New) ã‹ã‚‰ä¸Šã§è¨­å®šã—ãŸã‚«ãƒ¼ãƒãƒ« (ã“ã“ã§ã¯ Default) ãŒé¸ã¹ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚Œã°æˆåŠŸã§ã™ã€‚\n \nDemo repository ã“ã“ã¾ã§ã®æ‰‹é †ã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã¾ã¨ã‚ã¦ pipenv ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚ ãã“ã§ã€ã“ã‚Œã®ãƒ‡ãƒ¢ç”¨ã«ä»¥ä¸‹ã®ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ GitHub ã§å…¬é–‹ã—ã¾ã—ãŸã€‚\nğŸ§ astropenguin/pipenv-ipython-jupyter: Demo of IPython/Jupyter custom config management by Python-pipenv\nã“ã®ãƒ¬ãƒã‚¸ãƒˆãƒªã«ã¯ã€etc/configure ã«ä¸€é€£ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒè¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™ã€‚ ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ clone ã—ãŸã®ã¡ã€ä»¥ä¸‹ã®é€šã‚Šã«å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸Šè¨˜ã®è«¸ã€…ã®è¨­å®šãŒè‡ªå‹•ã§è¡Œã‚ã‚Œã¾ã™ã€‚\n$ pipenv install $ pipenv run configure ã‚ã¨ã¯ã€.ipython/profile_default ã‚’ git ã§ç®¡ç†ã™ã‚‹ãªã‚Šã™ã‚Œã°ã€ç’°å¢ƒæ§‹ç¯‰ãŒã•ã‚‰ã«æ¥½ã«ãªã‚‹ã¯ãšã§ã™ï¼\nReferences  Overview of the IPython configuration system â€” IPython documentation Installing the IPython kernel \u0026ndash; IPython documentation Custom Script Shortcuts â€” pipenv documentation Automatic Loading of .env \u0026ndash; pipenv documentation 2018å¹´ã® Python ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¯ã˜ã‚ã‹ãŸ - Qiita astropenguin/pipenv-ipython-jupyter: Demo of IPython/Jupyter custom config management by Python-pipenv  ","date":"2018-12-14T12:28:08+09:00","permalink":"https://astropengu.in/posts/20/","title":"IPython/Jupyter ã®è¨­å®šã‚‚ pipenv ã§ç®¡ç†ã™ã‚‹"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®13æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ æœ€è¿‘ç§ã®å‘¨ã‚Šã§ non-LTE æ”¾å°„è¼¸é€è¨ˆç®—ã‚³ãƒ¼ãƒ‰ RADEX ã‚’ä½¿ã†äººãŒå¢—ãˆã¦ããŸã®ã§ã€ãƒ“ãƒ«ãƒ‰ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ GNU make ã‚„ Homebrew ã§è¡Œãˆã‚‹ã‚ˆã†ã«ã—ãŸã¨ã„ã†è©±ã§ã™ã€‚\nCreate Makefile RADEX ã‚’ä½¿ã†ãŸã‚ã«ã¯ã€é€šå¸¸ã¯ ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‹ã‚‰ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€èª¬æ˜ã«å¾“ã£ã¦ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚ ãã®éš›ã€å…‰å­ã®è„±å‡ºç¢ºç‡ã‚’æ±ºã‚ã‚‹ãŸã‚ã« ISM ã® geometry ã‚’ä¸ãˆãŸã‚Šã€åˆ†å­ã® Einstein ä¿‚æ•°ã‚„è¡çªä¿‚æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ãŸã‚Šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã‚’ä½œæˆã™ã‚‹ã®ã«ã¯å‘ã„ã¦ã„ãªã„ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ ãã“ã§ã€ã“ã‚Œã‚‰ã‚’ä»¥ä¸‹ã®é€šã‚Šã«è§£æ±ºã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã‚’ä½œæˆã—ã¦ã„ãã“ã¨ã«ã—ã¾ã™ã€‚\n ISM geometry ã”ã¨ã«ç•°ãªã‚‹ RADEX ãƒã‚¤ãƒŠãƒªã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã«ã™ã‚‹ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€3ã¤ã®ãƒã‚¤ãƒŠãƒª radex-uni (uniform sphere) ã€radex-lvg (expanding sphere) ã€radex-slab (plane parallel slab) ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚ ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ä¸ãˆãªã„ã€‚ãã®ä»£ã‚ã‚Šã€RADEX å®Ÿè¡Œæ™‚ã«ãƒ¦ãƒ¼ã‚¶ãŒãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã€‚  GNU make ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã¨ã—ã¦ã¯ã€GNU make ã‚’é¸ã³ã¾ã—ãŸã€‚ ã“ã‚Œã¯ã€ã ã„ãŸã„ã©ã®ç’°å¢ƒã§ã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ make ã‚³ãƒãƒ³ãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚ ã¨ã„ã†ã‚ã‘ã§ã€å‡ºæ¥ä¸ŠãŒã£ãŸã‚‚ã®ã‚’ä»¥ä¸‹ã§å…¬é–‹ã—ã¾ã—ãŸã€‚\nâš¡ astropenguin/radex-install: Build and Install RADEX easily\nä½¿ã„æ–¹ã¯ README ã«æ›¸ã„ã¦ã‚ã‚‹é€šã‚Šã§ã™ãŒã€ãƒ“ãƒ«ãƒ‰ã«å¿…è¦ãª gfortran ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸä¸Šã§ Makefile ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€åŒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§\n$ make install ã™ã‚‹ã ã‘ã§ RADEX ãƒã‚¤ãƒŠãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ã¾ã™ã€‚ ã“ã‚Œã¾ã§ã®æ‰‹é–“ã‚’è€ƒãˆã‚‹ã¨ã€ã¨ã¦ã‚‚è‰¯ã„æ„Ÿã˜ã§ã™ã€‚\nHomebrew ã•ã‚‰ã«ã€ã“ã® Makefile ã‚’ä½¿ã£ã¦ Homebrew formula ã‚‚ä½œæˆã—ã¾ã—ãŸã€‚\nğŸº astropenguin/homebrew-formulae: Homebrew formulae for various tools\nã“ã¡ã‚‰ã¯ã€ä»¥ä¸‹ã®2è¡Œã§ gfortran ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚‚åŒæ™‚ã«ã‚„ã£ã¦ãã‚Œã¾ã™ã€‚\n$ brew tap astropenguin/formulae $ brew install radex ã‹ãªã‚Šä¾¿åˆ©ã«ãªã‚Šã¾ã—ãŸï¼\nReferences  Radex: Non-LTE molecular radiative transfer in homogeneous interstellar clouds astropenguin/radex-install: Build and Install RADEX easily astropenguin/homebrew-formulae: Homebrew formulae for various tools  ","date":"2018-12-13T02:13:09+09:00","permalink":"https://astropengu.in/posts/19/","title":"RADEX ã®è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã‚’ä½œæˆã™ã‚‹"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯ã€Python è£½ã®ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® Geocoder ã‚’è©¦ã—ã¦ã¿ãŸã¨ã„ã†è©±ã§ã™ã€‚\nWhy geocoding? åœ°ä¸Šæœ›é é¡ã®è¦³æ¸¬ã®éš›ã«ã¯ã€ãã®åœ°ç‚¹ã§ã®å¤©ä½“ã®æ–¹ä½è§’ã¨ä»°è§’ (az, el) ãŒä¸€æ—¥ã®ä¸­ã§ã©ã†å¤‰åŒ–ã™ã‚‹ã‹ã‚’çŸ¥ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚ ã“ã®ã‚ˆã†ãªç†ç”±ã‹ã‚‰ã€(az, el) ãƒ—ãƒ­ãƒƒãƒˆä½œæˆã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ« Azely ã‚’é–‹ç™ºã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€è¨ˆç®—ã«ã¯å¤©ä½“ã®èµ¤é“åº§æ¨™å€¤ã®ä»–ã«ã€æœ›é é¡ã®ç·¯åº¦çµŒåº¦ (lat, lng) ã®åº§æ¨™å€¤ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ å¤©ä½“åº§æ¨™ã¯ã€ä¾‹ãˆã° Astropy ã‚’ä½¿ã†ã“ã¨ã§å¤©ä½“åã‹ã‚‰æ¤œç´¢ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ãã“ã§ã€æœ›é é¡åº§æ¨™ã‚‚åœ°å (e.g., é‡è¾ºå±±å®‡å®™é›»æ³¢è¦³æ¸¬æ‰€) ã‹ã‚‰æ¤œç´¢ (ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°) ã§ãã‚‹ã¨ä¾¿åˆ©ã§ã™ã€‚\nGeocoder  Simple and consistent geocoding library written in Python.\n Geocoder   Geocoder ã¯ã€è¤‡æ•°ã®ãƒãƒƒãƒ—ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° API ã‚’çµ±ä¸€ã•ã‚ŒãŸæ–‡æ³• (ãƒ¡ã‚½ãƒƒãƒ‰) ã§æ‰±ã†ã“ã¨ãŒã§ãã‚‹ Python è£½ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ ä¸€èˆ¬çš„ã« API ãŒè¿”ã™ JSON ã®çµæœã¯ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ç‹¬è‡ªã®ãŸã‚ã€ã“ã‚Œã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä¸­ã§ä½¿ã†ãŸã‚ã«ç‹¬è‡ªã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå¿…è¦ãŒã‚ã‚‹ã®ã§ã™ãŒã€Geocoder ã‚’ä½¿ã†ã¨ API ã®ä¸­èº«ã‚’æ°—ã«ã›ãšç°¡å˜ã«ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ ã¡ãªã¿ã«ã€README ã«ã‚ˆã‚‹ã¨ãŠã‚ˆã30å€‹ã®ãƒãƒƒãƒ—ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾å¿œã—ã¦ã„ã‚‹ãã†ã§ã™â€¦ã™ã”ã„ã€‚ ã“ã®ä¸­ã«ã¯ã€API ã‚­ãƒ¼ã®å¿…è¦ãªã„ OpenStreetMap ãªã©ã‚‚å«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€Azely ã®ä¸­ã§ã¯ã“ã†ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã†ã®ãŒè‰¯ã•ãã†ã§ã™ã€‚\nInstallation Python ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã®ã§ã€pip ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ã§ã™ã€‚\n$ pip install geocoder åŒæ™‚ã«ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ãã†ã§ã™ãŒã€ã“ã“ã§ã¯æ‰±ã„ã¾ã›ã‚“ã€‚\nUsage Geocoding (OpenStreetMap) ä¾‹ãˆã° OpenStreetMap ã§é‡è¾ºå±±å®‡å®™é›»æ³¢è¦³æ¸¬æ‰€ã®åº§æ¨™ã‚’å–å¾—ã™ã‚‹å ´åˆã€ãŸã£ãŸã“ã‚Œã ã‘ã§å–å¾—ã§ãã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; import geocoder \u0026gt;\u0026gt;\u0026gt; ret = geocoder.osm(\u0026#39;é‡è¾ºå±±å®‡å®™é›»æ³¢è¦³æ¸¬æ‰€\u0026#39;, timeout=5.0) \u0026gt;\u0026gt;\u0026gt; print(ret.latlng) [35.9429899, 138.473690612737] ã“ã“ã§ã€ret ã¯ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ã‚½ãƒƒãƒ‰ (ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£) ã‚’æŒã£ã¦ã„ã¾ã™ (ä»–ã«ã‚‚ã‚ã‚Šã¾ã™)ã€‚ ret.ok ã¯ã€ãƒãƒƒãƒˆæ¥ç¶šãŒãªã‹ã£ãŸã‚Šã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã®å ´åˆã« False ã‚’è¿”ã—ã¾ã™ã€‚ å‚è€ƒã¾ã§ã«ã€ret.json ã‚’ Appendix ã«ç½®ã„ã¦ãŠãã¾ã™ã€‚\n   Method Description     lat ç·¯åº¦ (deg) ã® float   lng çµŒåº¦ (deg) ã® float   latlng [ç·¯åº¦, çµŒåº¦] ã®ãƒªã‚¹ãƒˆ   address ä½æ‰€ã®æ–‡å­—åˆ—   location å ´æ‰€ã®åå‰   json å–å¾—ã•ã‚ŒãŸ JSON ã® dict   geojson GeoJSON å½¢å¼ã® dict   ok å–å¾—ãŒæˆåŠŸã—ãŸã‹ã‚’ç¤ºã™ boolean    ã¾ãŸã€ä»–ã«ã‚‚ä»¥ä¸‹ã¯ä¸Šæ‰‹ãå–å¾—ã§ãã¾ã—ãŸã€‚ ãŸã ã—ã€'ASTE' ã‚„ 'ALMA' ã ã‘ã ã¨åˆ¥ã®å ´æ‰€ãŒé¸ã°ã‚Œã¦ã—ã¾ã†ã®ã§ã€ã‚ã‚‹ç¨‹åº¦ã®ãƒ’ãƒ³ãƒˆã¯å¿…è¦ãªã‚ˆã†ã§ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; ret = geocoder.osm(\u0026#39;ASTE telescope\u0026#39;) \u0026gt;\u0026gt;\u0026gt; print(ret.address) ASTE (Atacama Submillimeter Telescope Experiment), San Pedro de Atacama, Provincia de El Loa, RegiÃ³n de Antofagasta, Chile \u0026gt;\u0026gt;\u0026gt; ret = geocoder.osm(\u0026#39;NANTEN2\u0026#39;) \u0026gt;\u0026gt;\u0026gt; print(ret.address) NANTEN2, San Pedro de Atacama - Paso Jama, San Pedro de Atacama, Provincia de El Loa, RegiÃ³n de Antofagasta, Chile \u0026gt;\u0026gt;\u0026gt; ret = geocoder.osm(\u0026#39;ALMA AOS\u0026#39;) \u0026gt;\u0026gt;\u0026gt; print(ret.address) AOS, San Pedro de Atacama, Provincia de El Loa, RegiÃ³n de Antofagasta, Chile Geocoding (IP address) åœ°å‘³ã«ä¾¿åˆ©ãã†ãªã®ãŒã€ãƒ¦ãƒ¼ã‚¶ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰å ´æ‰€ã‚’å–å¾—ã§ãã‚‹æ©Ÿèƒ½ã§ã™ã€‚ ã“ã“ã§å–å¾—ã§ãã‚‹ã®ã¯ã–ã£ãã‚Šã¨ã—ãŸå€¤ã«ã™ãã¾ã›ã‚“ãŒã€ä¾‹ãˆã°ä»¥ä¸‹ã‚’åå¤å±‹å¸‚ã‹ã‚‰å®Ÿè¡Œã—ãŸå ´åˆã€ä½æ‰€ãŒæ­£ã—ãå–å¾—ã§ãã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚\n\u0026gt;\u0026gt;\u0026gt; ret = geocoder.ip(\u0026#39;me\u0026#39;) \u0026gt;\u0026gt;\u0026gt; print(ret.address) Nagoya, Aichi, JP References  Geocoder: Simple, Consistent â€” geocoder 1.38.1 documentation DenisCarriere/geocoder: Python Geocoder OpenStreetMap Japan | è‡ªç”±ãªåœ°å›³ã‚’ã¿ã‚“ãªã®æ‰‹ã«/The Free Wiki World Map astropenguin/azely: Calculate azimuth/elevation of astronomical objects  Appendix {\u0026#39;accuracy\u0026#39;: 0.31000000000000005, \u0026#39;address\u0026#39;: \u0026#39;é‡è¾ºå±±å®‡å®™é›»æ³¢è¦³æ¸¬æ‰€, å—ç‰§æ‘, å—ä½ä¹…éƒ¡, é•·é‡çœŒ, ä¸­éƒ¨åœ°æ–¹, æ—¥æœ¬\u0026#39;, \u0026#39;bbox\u0026#39;: [138.4686251, 35.9401096, 138.4767526, 35.9453509], \u0026#39;confidence\u0026#39;: 8, \u0026#39;country\u0026#39;: \u0026#39;æ—¥æœ¬\u0026#39;, \u0026#39;country_code\u0026#39;: \u0026#39;jp\u0026#39;, \u0026#39;county\u0026#39;: \u0026#39;å—ä½ä¹…éƒ¡\u0026#39;, \u0026#39;importance\u0026#39;: 0.31000000000000005, \u0026#39;lat\u0026#39;: 35.9429899, \u0026#39;lng\u0026#39;: 138.473690612737, \u0026#39;ok\u0026#39;: True, \u0026#39;osm_id\u0026#39;: \u0026#39;133160162\u0026#39;, \u0026#39;osm_type\u0026#39;: \u0026#39;way\u0026#39;, \u0026#39;place_id\u0026#39;: \u0026#39;105994825\u0026#39;, \u0026#39;place_rank\u0026#39;: \u0026#39;22\u0026#39;, \u0026#39;quality\u0026#39;: \u0026#39;observatory\u0026#39;, \u0026#39;raw\u0026#39;: {\u0026#39;place_id\u0026#39;: \u0026#39;105994825\u0026#39;, \u0026#39;licence\u0026#39;: \u0026#39;Data Â© OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright\u0026#39;, \u0026#39;osm_type\u0026#39;: \u0026#39;way\u0026#39;, \u0026#39;osm_id\u0026#39;: \u0026#39;133160162\u0026#39;, \u0026#39;boundingbox\u0026#39;: [\u0026#39;35.9401096\u0026#39;, \u0026#39;35.9453509\u0026#39;, \u0026#39;138.4686251\u0026#39;, \u0026#39;138.4767526\u0026#39;], \u0026#39;lat\u0026#39;: \u0026#39;35.9429899\u0026#39;, \u0026#39;lon\u0026#39;: \u0026#39;138.473690612737\u0026#39;, \u0026#39;display_name\u0026#39;: \u0026#39;é‡è¾ºå±±å®‡å®™é›»æ³¢è¦³æ¸¬æ‰€, å—ç‰§æ‘, å—ä½ä¹…éƒ¡, é•·é‡çœŒ, ä¸­éƒ¨åœ°æ–¹, æ—¥æœ¬\u0026#39;, \u0026#39;place_rank\u0026#39;: \u0026#39;22\u0026#39;, \u0026#39;category\u0026#39;: \u0026#39;landuse\u0026#39;, \u0026#39;type\u0026#39;: \u0026#39;observatory\u0026#39;, \u0026#39;importance\u0026#39;: 0.31000000000000005, \u0026#39;address\u0026#39;: {\u0026#39;address100\u0026#39;: \u0026#39;é‡è¾ºå±±å®‡å®™é›»æ³¢è¦³æ¸¬æ‰€\u0026#39;, \u0026#39;village\u0026#39;: \u0026#39;å—ç‰§æ‘\u0026#39;, \u0026#39;county\u0026#39;: \u0026#39;å—ä½ä¹…éƒ¡\u0026#39;, \u0026#39;state\u0026#39;: \u0026#39;ä¸­éƒ¨åœ°æ–¹\u0026#39;, \u0026#39;country\u0026#39;: \u0026#39;æ—¥æœ¬\u0026#39;, \u0026#39;country_code\u0026#39;: \u0026#39;jp\u0026#39;}}, \u0026#39;region\u0026#39;: \u0026#39;ä¸­éƒ¨åœ°æ–¹\u0026#39;, \u0026#39;state\u0026#39;: \u0026#39;ä¸­éƒ¨åœ°æ–¹\u0026#39;, \u0026#39;status\u0026#39;: \u0026#39;OK\u0026#39;, \u0026#39;type\u0026#39;: \u0026#39;observatory\u0026#39;, \u0026#39;village\u0026#39;: \u0026#39;å—ç‰§æ‘\u0026#39;} ","date":"2018-12-12T01:51:14+09:00","permalink":"https://astropengu.in/posts/18/","title":"Python è£½ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒª Geocoder ã‚’è©¦ã™"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®11æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯é›‘ã§ã™ãŒã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç”¨ãƒ•ã‚©ãƒ³ãƒˆ Ricty ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nRicty  Ricty (ãƒªã‚¯ãƒ†ã‚£) ã¯ Linux ç’°å¢ƒã§ã®ç ”ç©¶ãƒ»é–‹ç™ºã‚’æƒ³å®šã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç”¨ãƒ•ã‚©ãƒ³ãƒˆã§ã™ã€‚ ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã‚„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚„ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èªã«å¯¾ã™ã‚‹ä½¿ç”¨ã«é©ã—ã¦ã„ã¾ã™ã€‚\n  ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç”¨ãƒ•ã‚©ãƒ³ãƒˆ Ricty  ã¨ã„ã†ã“ã¨ã§ã€ã“ã‚Œã‚’ VS Code ã‚„ Terminal ã®ãƒ•ã‚©ãƒ³ãƒˆã¨ã—ã¦è¨­å®šã™ã‚‹ã¨è¦‹ã‚„ã™ããªã‚Šãã†ã§ã™ã€‚\nInstallation ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ Homebrew ã§è¡Œãˆã¾ã™ã€‚ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã«ä»¥ä¸‹ã®é€šã‚Šã® caveats ãŒå‡ºã¾ã™ã®ã§ã€ãã®é€šã‚Šã«ã—ã¾ã™ã€‚\n==\u0026gt; Caveats *************************************************** Generated files: /usr/local/opt/ricty/share/fonts/RictyDiscord-Regular.ttf /usr/local/opt/ricty/share/fonts/Ricty-Bold.ttf /usr/local/opt/ricty/share/fonts/Ricty-Regular.ttf /usr/local/opt/ricty/share/fonts/RictyDiscord-Bold.ttf *************************************************** To install Ricty: $ cp -f /usr/local/opt/ricty/share/fonts/Ricty*.ttf ~/Library/Fonts/ $ fc-cache -vf *************************************************** ã¨ã„ã†ã‚ã‘ã§ã€å…¨ã¦ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚\n$ brew tap sanemat/font $ brew install ricty $ cp -f /usr/local/opt/ricty/share/fonts/Ricty*.ttf ~/Library/Fonts/ $ fc-cache -vf VS Code ã«è¨­å®šã—ãŸã‚‰ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã—ãŸï¼\n \nReferences  ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç”¨ãƒ•ã‚©ãƒ³ãƒˆ Ricty ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç”¨ãƒ•ã‚©ãƒ³ãƒˆRictyã‚’Macã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ - Qiita  ","date":"2018-12-11T23:06:55+09:00","permalink":"https://astropengu.in/posts/17/","title":"ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç”¨ãƒ•ã‚©ãƒ³ãƒˆ Ricty ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®10æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯æ˜¨æ—¥ã®ç¶šãã§ã€Hugo ã§ä½œæˆã—ãŸãƒ†ã‚¹ãƒˆã‚µã‚¤ãƒˆã®è¨­å®šã‚’ã„ã˜ã£ã¦ã„ãã¾ã™ã€‚\nSite configuration (config.toml) Hugo ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®è¨­å®šã¯ config.toml ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã§è¡Œã„ã¾ã™ã€‚ ã¡ãªã¿ã« TOML (Tom\u0026rsquo;s Obvious, Minimal Language) ã¯ JSON ã‚„ YAML ã¨åŒæ§˜ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«è¨˜è¿°è¨€èªã§ã™ã€‚ ä»Šå›ã¯æœ€ä½é™ã®è¨­å®šã¨ã—ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ãªè¨­å®šã‚’æ›¸ãã¾ã—ãŸã€‚ ãã®ä»–ã®è¨­å®šå¯èƒ½ãªé …ç›®ã¯ã€Configure Hugo ã«ã¾ã¨ã¾ã£ã¦ã„ã¾ã™ã€‚\n# ã“ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ« title = \u0026#34;Astropenguin\u0026#34; # ã‚µã‚¤ãƒˆã® URL ã®ãƒ«ãƒ¼ãƒˆ baseURL = \u0026#34;https://astropengu.in/\u0026#34; # ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ†ãƒ¼ãƒ theme = \u0026#34;minimo\u0026#34; # æ—¥æœ¬èªã®æ–‡å­—ã‚«ã‚¦ãƒ³ãƒˆç­‰ã‚’æœ‰åŠ¹åŒ– hasCJKLanguage = true # çµµæ–‡å­—ã®æœ‰åŠ¹åŒ– enableEmoji = true # ã‚¿ã‚°ã§ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆè¨˜å·ã‚„å¤§æ–‡å­—å°æ–‡å­—ã®ä¿æŒ preserveTaxonomyNames = false # ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆæœ‰åŠ¹åŒ–ã¨ã‚¹ã‚¿ã‚¤ãƒ« pygmentsCodefences = true pygmentsStyle = \u0026#34;manni\u0026#34; # ã‚¿ã‚°ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ [taxonomies] tag = \u0026#34;tags\u0026#34; # è¨˜äº‹ã® URL è¨­å®š [permalinks] page = \u0026#34;/:slug/\u0026#34; blog = \u0026#34;/:section/:filename/\u0026#34; # å¤–éƒ¨ãƒªãƒ³ã‚¯ã‚’æ–°è¦ã‚¿ãƒ–ã§é–‹ã [blackfriday] hrefTargetBlank = true ã“ã®ä»–ã«ã€ãƒ†ãƒ¼ãƒå›ºæœ‰ã®è¨­å®šã‚‚æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã¡ã‚‰ã¯ãƒ†ãƒ¼ãƒã«ã‚ˆã£ã¦ç•°ãªã‚‹ã®ã§ã“ã“ã§ã¯ã¾ã¨ã‚ã¾ã›ã‚“ã€‚ Minimo ã®å ´åˆã¯ã€ä½œè€…ã®ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ ã‚’è¦‹ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚ ã¾ãŸã€ç§ã®ãƒ•ãƒ«ã® config.toml ã‚’ã“ã¡ã‚‰ã§ç¢ºèªã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nReferences  Minimo Configure Hugo | Hugo toml-lang/toml: Tom\u0026rsquo;s Obvious, Minimal Language astropenguin/website: Personal website powered by Hugo  ","date":"2018-12-10T22:50:44+09:00","permalink":"https://astropengu.in/posts/16/","title":"Hugo ã‚’ä½¿ã£ãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ä½œæˆ: ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®è¨­å®š"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®9æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯æ˜¨æ—¥ã®ç¶šãã§ã€ã„ã‚ˆã„ã‚ˆ Hugo ã‚’ä½¿ã£ã¦ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nInstall hugo ã¾ãšã¯ Hugo ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ ã“ã“ã§ã¯ Homebrew ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸã€‚ ã¾ãŸã€ã¤ã„ã§ã« Hugo ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚ç¢ºèªã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ ã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€å¾Œã»ã© Travis CI ã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹éš›ã® Hugo ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ä½¿ã†ã®ã§ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™\n$ brew install hugo $ hugo version Hugo Static Site Generator v0.52/extended darwin/amd64 BuildDate: unknown ã“ã“ã§ã¯ v0.52 ã§ã‚ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚\nCreate an empty website æ¬¡ã«ã€Hugo ã§ç©ºã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ã€Git ã§ã®ç®¡ç†ã‚’é–‹å§‹ã—ã¾ã™ã€‚ ã“ã“ã§ã¯ website ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚ ã¾ãŸã€GitHub ã§ website ã¨ã„ã†åå‰ã§ãƒªãƒ¢ãƒ¼ãƒˆãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã€ã“ã‚Œã‚’è¿½åŠ ã—ã¾ã™ã€‚\n$ hugo new site website \u0026amp;\u0026amp; cd website $ git init $ git remote add origin https://github.com/astropenguin/website.git ã“ã®çŠ¶æ…‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚\n$ tree -a -L 1 . â”œâ”€â”€ .git â”œâ”€â”€ archetypes â”œâ”€â”€ config.toml â”œâ”€â”€ content â”œâ”€â”€ data â”œâ”€â”€ layouts â”œâ”€â”€ static â””â”€â”€ themes ä»¥ä¸‹ã§ã¯ã€ç‰¹ã«æ–­ã‚ŠãŒãªã‘ã‚Œã° website ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å„ç¨®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚\n$ pwd /path/to/website ãƒˆãƒƒãƒ—ã®6å€‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ç©ºã§ã‚‚ Git ã«ç®¡ç†ã•ã‚Œã‚‹ã‚ˆã†ã« .gitkeep ã¨ã„ã†ç©ºã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¦ãŠãã¾ã™ã€‚ ãƒ•ã‚¡ã‚¤ãƒ«åã¯ .gitkeep ã§ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€æ…£ç¿’çš„ã«ã“ã†ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ ã¾ãŸã€ãƒ“ãƒ«ãƒ‰çµæœãŒä¿å­˜ã•ã‚Œã‚‹ public, resources ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã¯ Git ã®ç®¡ç†ã‹ã‚‰å¤–ã™ãŸã‚ .gitignore ã«è¿½è¨˜ã—ã¦ãŠãã¾ã™ã€‚\n$ touch archetypes/.gitkeep $ touch content/.gitkeep $ touch data/.gitkeep $ touch layouts/.gitkeep $ touch static/.gitkeep $ touch themes/.gitkeep $ echo /public \u0026gt;\u0026gt; .gitignore $ echo /resources \u0026gt;\u0026gt; .gitignore Choosing a theme ã“ã“ã§ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ†ãƒ¼ãƒã‚’é¸ã³ã¾ã™ã€‚ ãƒ†ãƒ¼ãƒã¯ Hugo ã§ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹éš›ã«å¿…ãšå¿…è¦ã¨ãªã‚‹ã‚‚ã®ã§ã™ã€‚ ä»Šå›ã¯ã€ãƒŸãƒ‹ãƒãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³ã‹ã¤æ•°å¼è¡¨ç¤ºã‚„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã€ Minimo ã‚’é¸ã³ã¾ã—ãŸã€‚ ã“ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚‚ã®ã‚’ themes ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã—ã¦ã‚‚è‰¯ã„ã®ã§ã™ãŒã€ä½œè€…ãŒ GitHub ã§ç®¡ç†ã—ã¦ã„ã‚‹ã®ã§ã€ã“ã®ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ submodule ã¨ã—ã¦è¿½åŠ ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\n$ git submodule add https://github.com/MunifTanjim/minimo themes/minimo ã“ã†ã™ã‚‹ã“ã¨ã§ Minimo ã®ã‚³ãƒŸãƒƒãƒˆ ID ã®ã¿ã‚’ç®¡ç†ã™ã‚‹ã®ã§ã€ãƒ†ãƒ¼ãƒã®ç„¡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ website ãƒ¬ãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ãªãã¦ã‚ˆããªã‚Šã¾ã™ã€‚ ã“ã“ã¾ã§ã®ä½œæ¥­ã‚’ã‚³ãƒŸãƒƒãƒˆâ†’ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ãŠãã¾ã™ã€‚\n$ git add --all $ git commit -m \u0026#34;Initial commit\u0026#34; $ git push origin master An example site Minimo ãƒ†ãƒ¼ãƒã«ã¯ exampleSite ã¨å‘¼ã°ã‚Œã‚‹ã€æ–‡å­—é€šã‚Šã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ä½œæˆä¾‹ã‚’ç¤ºã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (config.toml, content, data, static) ãŒåŒæ¢±ã•ã‚Œã¦ã„ã¾ã™ã€‚ ã“ã‚Œã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒã©ã†è¦‹ãˆã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã™ã€‚\n$ cp -r themes/minimo/exampleSite/ . ã“ã®çŠ¶æ…‹ã§ hugo server ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€ localhost:1313 ã§ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n$ open http://localhost:1313 \u0026amp;\u0026amp; hugo server ã“ã‚“ãªæ„Ÿã˜ã§è¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ï¼\n \næ¬¡å›ã‹ã‚‰ã¯ã€ã“ã“ã§ã‚³ãƒ”ãƒ¼ã—ã¦ããŸ Hugo ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« (config.toml) ã‚’ç·¨é›†ã™ã‚‹ã“ã¨ã§ã€ç§è‡ªèº«ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®è¨­å®šã‚’ã—ã¦ã„ãã¾ã™ã€‚\nReferences  Complete List | Hugo Themes Minimo | Hugo Themes MunifTanjim/minimo: Minimo - Minimalist theme for Hugo  ","date":"2018-12-09T17:40:27+09:00","permalink":"https://astropengu.in/posts/15/","title":"Hugo ã‚’ä½¿ã£ãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ä½œæˆ: ãƒ†ã‚¹ãƒˆã‚µã‚¤ãƒˆã®è¡¨ç¤º"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®8æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã‹ã‚‰æ•°å›ã«æ¸¡ã£ã¦ã€ã“ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ https://astropengu.in ã®ä½œæˆæ–¹æ³•ã«ã¤ã„ã¦ãƒ¡ãƒ¢ã—ã¦ã„ãã¾ã™ã€‚ ã¾ãšã¯ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ä½œæˆã«è‡³ã£ãŸçµŒç·¯ã¨æŠ€è¡“é¸å®šã«ã¤ã„ã¦ã§ã™ã€‚\nWhy personal website? ã“ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œã‚ã†ã¨æ€ã£ãŸçµŒç·¯ã«ã¤ã„ã¦ç°¡å˜ã«ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚ ç ”ç©¶ã‚’é€²ã‚ã¦ã„ãä¸Šã§å¿…è¦ãªæƒ…å ±ã®ã¾ã¨ã‚ã‚„ã€ä½•ã‹ã®ãƒ„ãƒ¼ãƒ«ã®ä½¿ã„æ–¹ã® tips ã‚’å…¬é–‹ã™ã‚‹å ´ã¨ã—ã¦ã€å€‹äººã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯å¿…è¦ã ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚ å­¦ç”Ÿæ™‚ä»£ã«ä½œæˆã—ãŸã‚µã‚¤ãƒˆã¯å¤§å­¦ã®ã‚µãƒ¼ãƒã«ç½®ã‹ã›ã¦ã‚‚ã‚‰ã£ã¦ã„ã¾ã—ãŸãŒ (ç¾åœ¨ã‚‚ã”å¥½æ„ã§ç½®ã‹ã›ã¦ã‚‚ã‚‰ã£ã¦ã„ã¾ã™ãŒãã®ã†ã¡å‰Šé™¤ã™ã‚‹ã¨æ€ã„ã¾ã™) ã€ç ”ç©¶è€…ã¨ã—ã¦ã—ã°ã‚‰ãã¯è·å ´ã®ç§»å‹•ã‚‚å¤šã„ã®ã§ã€ç ”ç©¶æ©Ÿé–¢ã«ç¸›ã‚‰ã‚Œãªã„ç’°å¢ƒã§ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œæˆã™ã‚‹æ–¹ãŒè‰²ã€…ã¨æ¥½ã§ã‚ã‚‹ã¨æ€ã†ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ ã¤ã„ã§ã«ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚‚å–å¾—ã™ã‚‹ã“ã¨ã§ã€ååˆºä»£ã‚ã‚Šã«ã‚‚ãªã‚‹ã§ã—ã‚‡ã†ã€‚\nSelecting tools ã¨ã„ã†ã‚ã‘ã§ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œæˆã™ã‚‹ãŸã‚ã®æŠ€è¡“é¸å®šã§ã™ã€‚ 2018å¹´ç¾åœ¨ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®å…¬é–‹ã™ã‚‹æ‰‹æ®µã¯ç„¡æ•°ã«ã‚ã‚‹ã‚ã‘ã§ã™ãŒã€ç§ã¯ä»¥ä¸‹ã®ç‚¹ã‚’ç‰¹ã«å¼·ãæ„è­˜ã—ã¦ãƒ„ãƒ¼ãƒ«ã‚’é¸ã³ã¾ã—ãŸã€‚\nãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§æ¥½ã«æ›¸ã‘ã‚‹ã“ã¨: è¨˜äº‹ãŒãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§æ›¸ã‘ã¦ä¿å­˜ã§ãã‚‹ã“ã¨ã§ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹ç®¡ç†ãŒå®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚ã•ã‚‰ã«ã€ç‰¹å®šã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã£ã¦ã„ã‚‹ã“ã¨ã§ã€å°†æ¥çš„ã«ãƒ„ãƒ¼ãƒ«ã‚’å¤‰ãˆãŸæ™‚ã«ç§»è¡Œä½œæ¥­ã®è² æ‹…ã‚‚æ¸›ã‚‹ã“ã¨ãŒäºˆæƒ³ã§ãã¾ã™ã€‚æ¥½ã«æ›¸ã‘ã‚‹ã¨ã„ã†ã“ã¨ã‚’è¸ã¾ãˆã‚‹ã¨ã€ã“ã‚Œã¯è»½é‡ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èªã® Markdown ã»ã¼ä¸€æŠã¨ãªã‚Šãã†ã§ã™ã€‚\nç‰¹å®šã®ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã«ä¾å­˜ã—ãªã„ã‚µã‚¤ãƒˆã§ã‚ã‚‹ã“ã¨: ã“ã‚Œã¯æ¥½ã«æ›¸ãã¨ã„ã†ã“ã¨ã¨ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã®é–¢ä¿‚ã«ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ç‰¹å®šã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã†ã¨ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ç®¡ç†ãŒæ¥½ã«ãªã‚‹ä¸€æ–¹ã€ãã®ã‚µãƒ¼ãƒ“ã‚¹ãŒçµ‚äº†ã—ã¦ã—ã¾ã£ãŸæ™‚ã«ã‚µãƒ«ãƒ™ãƒ¼ã‚¸ãŒé›£ã—ããªã‚Šã¾ã™ã€‚ãã“ã§ã€Markdown ã§æ›¸ã‹ã‚ŒãŸè¨˜äº‹ã‹ã‚‰å‹•çš„ã«ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆã™ã‚‹ã®ã§ã¯ãªãã€é™çš„ãª HTML ãƒšãƒ¼ã‚¸ã‚’å®Œå…¨ã«ç”Ÿæˆã™ã‚‹ã“ã¨ã‚’è€ƒãˆã¾ã™ã€‚ã“ã†ã™ã‚‹ã“ã¨ã§ã€ç”Ÿæˆã•ã‚ŒãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ãƒ›ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒã‚„ã‚µãƒ¼ãƒ“ã‚¹ã‚’è»¢ã€…ã¨ã§ãã‚‹ã®ã§ã€ä¾å­˜åº¦ãŒãã£ã¨ä¸‹ãŒã‚Šã¾ã™ã€‚é™çš„ãªã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆç”Ÿæˆ (ãƒ“ãƒ«ãƒ‰) ã«ã¯ã€é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ (static site generator) ã¨å‘¼ã°ã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ãŒä½¿ãˆã¾ã™ã€‚ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§æ§˜ã€…ãªãƒ„ãƒ¼ãƒ«ãŒåˆ©ç”¨å¯èƒ½ã§ã™ãŒã€ãƒ“ãƒ«ãƒ‰ãŒé«˜é€Ÿã§ãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ä¸€ã¤ã§å‹•ä½œã™ã‚‹ã¨ã„ã†ç†ç”±ã§ Hugo ã‚’é¸æŠã—ã¾ã—ãŸã€‚\nã•ã‚‰ã«ã€å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€è¨˜äº‹ã‚’æ›´æ–°ã™ã‚‹ãƒãƒ¼ãƒ‰ãƒ«ã‚’ä¸‹ã’ã‚‹ã“ã¨ã‚‚å¤§äº‹ãªã®ã§ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚„ãƒ“ãƒ«ãƒ‰ã«ã¤ã„ã¦ã‚‚ãªã‚‹ã¹ãè‡ªå‹•åŒ–ã™ã‚‹ãŸã‚ã®ä»•çµ„ã¿ãŒã»ã—ã„ã¨ã“ã‚ã§ã™ã€‚\nCurrent tools ä»¥ä¸Šã‚ˆã‚Šã€2018å¹´12æœˆç¾åœ¨ã€ã“ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚„ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ã¦ä½œæˆãƒ»é‹ç”¨ã—ã¦ã„ã¾ã™ã€‚ ã“ã®ã†ã¡è²»ç”¨ãŒã‹ã‹ã£ã¦ã„ã‚‹ã‚¢ã‚¤ãƒ†ãƒ ã«ã¯ ğŸ’° ãŒä»˜ã„ã¦ã¾ã™ã€‚\n   Item Description     Hugo Golang (Go è¨€èª) ã§æ›¸ã‹ã‚ŒãŸé™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã€‚Markdown ã§æ›¸ã‹ã‚ŒãŸè¨˜äº‹ã‚’ãƒ“ãƒ«ãƒ‰ã—ã€é™çš„ãª HTML ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆã™ã‚‹ã®ã«ä½¿ã„ã¾ã™ã€‚   Google Domains ğŸ’° ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ (astropengu.in) ã®å–å¾—ãƒ»ç®¡ç†ã«ä½¿ã„ã¾ã™ã€‚ã¡ãªã¿ã« .in ã¯ã‚¤ãƒ³ãƒ‰ã® ccTLD ã§ã€å¹´é–“ 1,500 å††ã»ã©ã§å–å¾—ã—ã¦ã„ã¾ã™ã€‚   Git \u0026amp; GitHub ã”å­˜ã˜åˆ†æ•£å‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã¨ãƒ¬ãƒã‚¸ãƒˆãƒªã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã€‚Hugo ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ“ãƒ«ãƒ‰å‰ã®è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ (Markdown, ç”»åƒç­‰) ã®ãƒ¬ãƒã‚¸ãƒˆãƒªã®ç®¡ç†ã«ä½¿ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ astropenguin/website ã§ã™ã¹ã¦å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚   GitHub Pages GitHub ãŒæä¾›ã™ã‚‹ãƒ¬ãƒã‚¸ãƒˆãƒªã«ç½®ã‹ã‚ŒãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã€‚Hugo ã§ãƒ“ãƒ«ãƒ‰ã—ãŸç”Ÿæˆç‰©ã‚’å…¬é–‹ã™ã‚‹ã®ã«ä½¿ã„ã¾ã™ã€‚   Travis CI ãƒ“ãƒ«ãƒ‰ã‚„ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ãŸã‚ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã®ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ (CI) ã‚µãƒ¼ãƒ“ã‚¹ã€‚è¨˜äº‹ã‚’ä½œæˆãƒ»æ›´æ–°ã—ã¦ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã³ã«ã€ãƒ¬ãƒã‚¸ãƒˆãƒªã®å–å¾— â†’ Hugoã§ãƒ“ãƒ«ãƒ‰ â†’ ç”Ÿæˆç‰©ã‚’ãƒ¬ãƒã‚¸ãƒˆãƒªã® gh-pages ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ã€ã¨ã„ã†ä¸€é€£ã®æµã‚Œã‚’è‡ªå‹•çš„ã«è¡Œã„ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’è‡ªå‹•æ›´æ–°ã™ã‚‹ã®ã«ä½¿ã„ã¾ã™ã€‚    ã“ã†ã—ã¦ã¿ã‚‹ã¨ã€åˆ©ç”¨ã—ã¦ã„ã‚‹ãƒ„ãƒ¼ãƒ«ã¯å¤šã„ã§ã™ã­ã€‚ ãŸã ã—ã€Git(Hub) ã¨ CI ã¯ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆä»¥å¤–ã«ã‚‚ä½¿ãˆã‚‹æ±ç”¨æ€§ã®ã‚ã‚‹æŠ€è¡“ãªã®ã§ã€å­¦ã¶ä¾¡å€¤ãŒå¤§ã„ã«ã‚ã‚Šã¾ã™ã€‚ ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã«é–¢ã—ã¦ã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’å…¬é–‹ã™ã‚‹ã¨ã„ã†ã ã‘ãªã‚‰ç‰¹ã«å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚ ã¨ã„ã†ã“ã¨ã§ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãŸã‚ã ã‘ã«æ–°è¦ã«å­¦ã¶ã®ã¯ Hugo ã®ä½¿ã„æ–¹ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nOther choices? ã‚‚ã—ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’å…¬é–‹ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒã‚’è‡ªç”±ã«ä½¿ãˆã‚‹ã®ã ã¨ã—ãŸã‚‰ã€ãƒ•ãƒ©ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ« CMS ã¨å‘¼ã°ã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã‚‚é¸æŠè‚¢ã®ä¸€ã¤ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ ã“ã‚Œã¯ã€è¨˜äº‹ã‚’ Markdown ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã—ã¤ã¤ã€ã‚µãƒ¼ãƒä¸Šã§ãƒšãƒ¼ã‚¸ã‚’å‹•çš„ã«ç”Ÿæˆã™ã‚‹ã‚¿ã‚¤ãƒ—ã®ãƒ„ãƒ¼ãƒ«ãªã®ã§ã€è¨˜äº‹ã®ç®¡ç†ã¨ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®å…¬é–‹ã®æ‰‹é–“ã¨ã„ã†æ„å‘³ã§ã¯ãƒãƒ©ãƒ³ã‚¹ãŒå–ã‚Œã¦ã„ã‚‹æ°—ãŒã—ã¾ã™ã€‚ 2018å¹´ç¾åœ¨ã§ãŠãã‚‰ãæœ€ã‚‚æƒ…å ±ãŒã‚ã£ã¦ä½¿ã„ã‚„ã™ã„ã®ã¯ Grav ã ã¨æ€ã„ã¾ã™ (ç§ã‚‚å°‘ã—ã®é–“ä½¿ã£ã¦ã¾ã—ãŸ)ã€‚\nã¾ãŸã€ç ”ç©¶ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå˜ä½ã§è¤‡æ•°äººã‹ã¤ã‚¯ãƒ­ãƒ¼ã‚ºãªæƒ…å ±å…±æœ‰ã¨ã„ã†æ„å‘³ã§ã¯ã€Kibela ã‚„ esa ã‚’ã¯ã˜ã‚ã¨ã™ã‚‹ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ Markdown æƒ…å ±å…±æœ‰ãƒ„ãƒ¼ãƒ«ãŒæœ‰ç”¨ã§ã™ã€‚ ã“ã‚Œã«ã¤ã„ã¦ã¯ã€ã©ã“ã‹ã®æ©Ÿä¼šã«åˆ¥è¨˜äº‹ã§ã¾ã¨ã‚ã¦ãŠããŸã„ã¨ã“ã‚ã§ã™ã€‚\nReferences  astropenguin/website: Personal website powered by Hugo The worldâ€™s fastest framework for building websites | Hugo StaticGen | Top Open Source Static Site Generators Grav - A Modern Flat-File CMS | Grav Kibela - å€‹äººã®ç™ºä¿¡ã‚’çµ„ç¹”ã®åŠ›ã«ã™ã‚‹æƒ…å ±å…±æœ‰ãƒ„ãƒ¼ãƒ« esa - è‡ªå¾‹çš„ãªãƒãƒ¼ãƒ ã®ãŸã‚ã®æƒ…å ±å…±æœ‰ã‚µãƒ¼ãƒ“ã‚¹  ","date":"2018-12-08T22:52:48+09:00","permalink":"https://astropengu.in/posts/14/","title":"Hugo ã‚’ä½¿ã£ãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ä½œæˆ: æŠ€è¡“é¸å®š"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®7æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯é›‘ã§ã™ãŒã€Slack ã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒé›†ã®ã‚µã‚¤ãƒˆã®ç´¹ä»‹ã¨è¨­å®šæ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nSlack Themes Slack Themes ã¨ã„ã†ã‚µã‚¤ãƒˆãŒä¾¿åˆ©ãã†ã§ã™ã€‚ æ§˜ã€…ãªã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒãŒç´¹ä»‹ã•ã‚Œã¦ãŠã‚Šã€ãã®å ´ã§å®Ÿéš›ã® Slack ã§ã©ã†è¡¨ç¤ºã•ã‚Œã‚‹ã‹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚ ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¨ã„ã†ã“ã¨ã§ã€ã“ã“ã§ã¯ã‚¯ãƒªã‚¹ãƒã‚¹ã£ã½ã„ãƒ†ãƒ¼ãƒã‚’é¸æŠã—ã¦ã¿ã¾ã—ãŸã€‚\n \nã‚ã¨ã¯ã€è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ Slack ã® ç’°å¢ƒè¨­å®š â†’ ã‚µã‚¤ãƒ‰ãƒãƒ¼ â†’ ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒ ã«è²¼ã‚Šä»˜ã‘ã‚Œã°è¨­å®šå®Œäº†ã§ã™ã€‚\n \n","date":"2018-12-07T09:51:31+09:00","permalink":"https://astropengu.in/posts/13/","title":"Slack ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒã®è¨­å®š"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®6æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯æ˜¨æ—¥ã®ç¶šãã§ã€Linuxbrew ã‚’åˆ©ç”¨ã—ã¦ ADC/MDAS ã« tmux ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸè©±ã§ã™ã€‚\nInstall tmux by Linuxbrew ALMAãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ³ã‚°ãªã©ã®é‡ã„å‡¦ç†ã®éš›ã«ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ–ãƒ«ãªã©ã§ä¸æ„ã«SSHæ¥ç¶šãŒåˆ‡ã‚Œã¦ã—ã¾ã„æœ€åˆã‹ã‚‰ä½œæ¥­ã®ã‚„ã‚Šç›´ã—ã€ã¨ã„ã†ã®ã¯å¤§å¤‰ã§ã™ã€‚ ã¾ãŸã€è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸¦è¡Œã—ã¦å‡¦ç†ã—ãŸã„æ™‚ã«å‡¦ç†ã®æ•°ã ã‘ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ã‚’é–‹ãã®ã‚‚é¢å€’ã§ã™ã€‚ ãã“ã§ã€SSHæ¥ç¶šãŒåˆ‡ã‚Œã¦ã‚‚ã‚µãƒ¼ãƒä¸Šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ãŸã‚Šã€1ã¤ã®SSHæ¥ç¶šã§è¤‡æ•°ã®å‡¦ç†ã‚’ä¸¦è¡Œã—ã¦å®Ÿè¡Œã§ããŸã‚Šã§ãã‚‹ã€tmux (terminal multiplexer) ã¨ã„ã†ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ä½¿ã†ã®ãŒã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ã€‚ æ˜¨æ—¥ã®è¨˜äº‹ã§ Linuxbrew ãŒæº–å‚™ã§ãã¦ã„ã‚‹ã®ã§ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ã¨ã¦ã‚‚ç°¡å˜ã§ã™ã€‚\n$ brew install tmux ãŸã ã—ã€Linuxbrew ã§ git ã¨ curl ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹å½±éŸ¿ã§ã€ãã®ã¾ã¾ tmux ã‚’èµ·å‹•ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¾ã™ (tmux è‡ªä½“ã¯å‹•ãã¾ã™) ã€‚\n$ tmux Package bash-completion was not found in the pkg-config search path. Perhaps you should add the directory containing `bash-completion.pc\u0026#39; to the PKG_CONFIG_PATH environment variable No package \u0026#39;bash-completion\u0026#39; found bash: /yum: No such file or directory ã“ã‚Œã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã¯ã€ä»¥ä¸‹ã‚’ .bash_profile ã«æ›¸ã„ã¦ãŠã‘ã° OK ã§ã™ã€‚\n$ echo \u0026#39;export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/share/pkgconfig\u0026#39; \u0026gt;\u0026gt; ~/.bash_profile References  tmux/tmux: tmux source code Linuxbrew: \u0026ldquo;Package bash-completion was not found...\u0026rdquo; at command prompt. Â· Issue #46 Â· Linuxbrew/legacy-linuxbrew  ","date":"2018-12-06T12:16:40+09:00","permalink":"https://astropengu.in/posts/12/","title":"ADC/MDAS ã¸ã® tmux ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®5æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯å¤©æ–‡ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼ (ADC) ã®å¤šæ³¢é•·ãƒ‡ãƒ¼ã‚¿è§£æã‚·ã‚¹ãƒ†ãƒ  (MDAS) ã« Linuxbrew ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹éš›ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\nLinuxbrew on ADC/MDAS Linuxbrew ã¯ macOS ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  Homebrew ã® Linux ç‰ˆã§ã™ã€‚ ADC/MDAS ã§ã¯ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ã¯ root æ¨©é™ã‚’æŒãŸãªã„ã®ã§ã€ä½•ã‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ãã« root æ¨©é™ã‚’å¿…è¦ã¨ã—ãªã„ Linuxbrew ã‚’ä½¿ãˆã‚‹ã¨ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ã€‚\nInstallation ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ Install Linuxbrew ã«å¾“ã£ã¦ãŠã‘ã° OK ã§ã™ã€‚ ADC/MDAS ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸçŠ¶æ…‹ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ ã“ã‚Œã§ Linuxbrew ã®è«¸ã€…ãŒ ~/.linuxbrew ã«ç½®ã‹ã‚Œã¾ã™ã€‚\n$ sh -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install.sh)\u0026#34; ãƒ¡ãƒ¢ã¨ã—ã¦ã§ã™ãŒã€ git ã¨ curl ã‚’ (ã™ã§ã«ã‚ã‚‹ã®ã«) ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚ˆã†ã§ã€ã“ã‚Œã‚‰ã®ä¾å­˜é–¢ä¿‚ã‚’ã‹ãªã‚Šã®æ™‚é–“ã‚’ã‹ã‘ã¦è§£æ±ºã—ã¦ã„ã¾ã—ãŸã€‚ ã©ã†ã‚„ã‚‰ã€ã‚·ã‚¹ãƒ†ãƒ ã® git ã¨ curl ãŒæœ€æ–°ç‰ˆã‚ˆã‚Šã‹ãªã‚Šå¤ã„å ´åˆã€ã“ã‚Œã‚‰ã‚‚ brew ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã«ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ ç„¡äº‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒçµ‚ã‚ã£ãŸã‚‰ã€Install Linuxbrew ã«ã‚ã‚‹ã‚ˆã†ã«ã€ãƒ†ã‚¹ãƒˆã¨ãƒ‘ã‚¹ã®è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚ ADC/MDAS ã¯ OS ãŒ RedHat ãªã®ã§ã€ä»¥ä¸‹ã®é€šã‚Šã§ OK ã§ã™ã€‚\n$ test -d ~/.linuxbrew \u0026amp;\u0026amp; eval $(~/.linuxbrew/bin/brew shellenv) $ test -r ~/.bash_profile \u0026amp;\u0026amp; echo \u0026#34;eval \\$($(brew --prefix)/bin/brew shellenv)\u0026#34; \u0026gt;\u0026gt; ~/.bash_profile ã“ã‚Œã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä½œæ¥­å®Œäº†ã§ã™ï¼ ã„ã£ãŸã‚“ãƒ­ã‚°ã‚¢ã‚¦ãƒˆâ†’ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã€ã‚³ãƒãƒ³ãƒ‰ brew doctor ãŒå‹•ãã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚\n$ brew doctor Warning ã¯å¤šæ•°å‡ºã¾ã™ãŒã€error ãŒå‡ºã¦ãªã‘ã‚Œã°å•é¡Œãªã„ã§ã—ã‚‡ã†ã€‚ å®Ÿéš›ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ§˜å­ã¯æ˜æ—¥ä»¥é™ã«ã¾ã¨ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nReferences  Linuxbrew | The Homebrew package manager for Linux The missing package manager for macOS â€” The missing package manager for macOS brew(1) â€“ The missing package manager for macOS â€” Homebrew Documentation  ","date":"2018-12-05T18:18:49+09:00","permalink":"https://astropengu.in/posts/11/","title":"ADC/MDAS ã¸ã® Linuxbrew ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®4æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯ Python ã§è¤‡æ•°è¡Œã®ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œæ™‚é–“ã‚’è¨ˆæ¸¬ã™ã‚‹éš›ã®æ›¸ãæ–¹ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\nContext stopwatch è¤‡æ•°è¡Œã®ã‚³ãƒ¼ãƒ‰ã®æ™‚é–“è¨ˆæ¸¬ã§ã¯ã€ã‚ˆãä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‹ã‘ã¾ã™ã€‚\nimport time start = time.time() ... # some code ... # some code ... # some code end = time.time() print(f\u0026#39;elapsed time = {end-start:.2f} sec\u0026#39;) ã“ã‚Œã§ã‚‚ã‚‚ã¡ã‚ã‚“å•é¡Œãªã„ã®ã§ã™ãŒã€ã‚³ãƒ¼ãƒ‰ã®è¨ˆæ¸¬ã®ãŸã³ã« start ã‚„ stop ã‚’ã‚³ãƒ¼ãƒ‰ã®å‰å¾Œã«æ›¸ãåŠ ãˆã‚‹ã®ã¯é¢å€’ã§ã™ã€‚ ã“ã®ã‚ˆã†ãªè¤‡æ•°è¡Œã®ã€ã™ãªã‚ã¡ã‚ã‚‹ç¨®ã®æ–‡è„ˆ (context) ã‚’æ‰±ã†ã®ã«ã¯ã€Python ã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸€ã¤ contextlib ã‚’ä½¿ã†ã®ãŒä¾¿åˆ©ã§ã™ã€‚ ã“ã®ä¸­ã® contextmanager ã‚’ä½¿ã†ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãª stopwatch ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nimport time from contextlib import contextmanager @contextmanager def stopwatch(): start = time.time() yield end = time.time() print(f\u0026#39;elapsed time = {end-start:.2f} sec\u0026#39;) ã¤ã¾ã‚Šã€with æ–‡ã®ä¸­ã«å…¥ã£ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œå‰ã« yield ã®å‰ã«æ›¸ã‹ã‚ŒãŸå†…å®¹ãŒã€ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œå¾Œã« yield ã®å¾Œã«æ›¸ã‹ã‚ŒãŸå†…å®¹ãŒè‡ªå‹•çš„ã«å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ ã“ã‚Œã‚’ä½¿ã†ã¨ã€ä¸Šã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚\nwith stopwatch(): ... # some code ... # some code ... # some code In IPython or Jupyter notebook IPython ã‚„ Jupyter notebook ä¸Šã§ã¯ã€cell magic ã¨å‘¼ã°ã‚Œã‚‹æ›¸ãæ–¹ã«ã‚ˆã£ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚»ãƒ«å˜ä½ã§æ™‚é–“è¨ˆæ¸¬ã‚‚ã§ãã¾ã™ã€‚ Pure Python ã§ã¯ä½¿ãˆã¾ã›ã‚“ãŒã€æ™®æ®µä½¿ã„ã«ã¯ã“ã¡ã‚‰ã®æ–¹ãŒæ¥½ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n%%time ... # some code ... # some code ... # some code References  29.6. contextlib â€” with æ–‡ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ â€” Python 3.6.5 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ Built-in magic commands â€” IPython 7.2.0 documentation  ","date":"2018-12-04T21:35:49+09:00","permalink":"https://astropengu.in/posts/10/","title":"Python ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ã‚’ä½¿ã£ãŸè¤‡æ•°è¡Œã®æ™‚é–“è¨ˆæ¸¬"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®3æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ ä»Šæ—¥ã¯é›‘ã§ã™ãŒã€matplotlib ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¾©å…ƒã™ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nimport matplotlib.pyplot as plt plt.rcParams.update(plt.rcParamsDefault) ","date":"2018-12-03T21:47:56+09:00","permalink":"https://astropengu.in/posts/9/","title":"Matplotlib ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã®å¾©å…ƒæ–¹æ³•"},{"content":"TL;DR ğŸ„ ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®2æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ Pythonã«ãŠã‘ã‚‹ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã®å®Ÿè£…ã‚’è©¦ã—ã¦ã¿ãŸéš›ã®ãƒ¡ãƒ¢ã§ã™ã€‚\nSingleton in Python ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã¯ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ã¨ã—ã¦å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ä»•çµ„ã¿ã¨ã—ã¦ã¯å˜ç´”ã§ã€ã‚‚ã—ãƒ¡ã‚¿ã‚¯ãƒ©ã‚¹ãŒæœ€åˆã«å‘¼ã³å‡ºã•ã‚ŒãŸå ´åˆã¯é€šå¸¸ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¨åŒæ§˜ã« type(name, bases, dict) ãŒå‘¼ã°ã‚Œã€ãã†ã§ãªã„å ´åˆã¯æ ¼ç´ã•ã‚ŒãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¿”ã™ã‚ˆã†ã«ã™ã‚Œã°è‰¯ã„ã§ã™ã€‚\nclass Singleton(type): _instances = {} def __call__(cls, *args, **kwargs): if cls not in cls._instances: cls._instances[cls] = super().__call__(*args, **kwargs) return cls._instances[cls] ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã®ã‚¯ãƒ©ã‚¹ã®æŒ¯ã‚‹èˆã„ã‚’ç¢ºã‹ã‚ã¦ã¿ã¾ã™ã€‚ ã¡ãªã¿ã«ã€total_ordering ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã¯æ¯”è¼ƒæ¼”ç®—å­ã®å®Ÿè£…ã‚’æ¥½ã«ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚\nfrom functools import total_ordering @total_ordering class TestClass(metaclass=Singleton): def __init__(self, value): self.value = value def __eq__(self, other): if not isinstance(other, self.__class__): return NotImplemented return self.value == other.value def __lt__(self, other): if not isinstance(other, self.__class__): return NotImplemented return self.value \u0026lt; other.value instance_1 = TestClass(1) instance_2 = TestClass(2) print(instance_1 == instance_2) # åŒå€¤æ€§ãƒã‚§ãƒƒã‚¯ print(instance_1 is instance_2) # åŒä¸€æ€§ãƒã‚§ãƒƒã‚¯ print(instance_1.value) print(instance_2.value) çµæœã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nTrue True 1 1 å¾Œã«ç”Ÿæˆã•ã‚ŒãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ã€æœ€åˆã¨é•ã†å¼•æ•°ã§ç”Ÿæˆã•ã‚ŒãŸã®ã«ã‚‚é–¢ã‚ã‚‰ãšã€æœ€åˆã«ç”Ÿæˆã•ã‚ŒãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¨åŒä¸€ã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚\nReferences  10.2. functools â€” é«˜éšé–¢æ•°ã¨å‘¼ã³å‡ºã—å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ“ä½œ â€” Python 3.6.5 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ  ","date":"2018-12-02T00:58:38+09:00","permalink":"https://astropengu.in/posts/8/","title":"Python ã«ãŠã‘ã‚‹ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã®å®Ÿè£…"},{"content":"TL;DR ğŸ„ ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¸ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚’è»Œé“ã«ä¹—ã›ã‚‹ãŸã‚ã€ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’ã‚„ã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚ ã¨ã„ã†ã‚ã‘ã§ã“ã‚Œã¯ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼1æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\nLinux ã§ã¯æ¨™æº–å‡ºåŠ›ã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è¡¨ç¤ºã—ã¤ã¤ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚‚ä¿å­˜ã—ãŸã„æ™‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã« tee ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ãŒã€ã“ã‚Œã¨åŒæ§˜ã®çµæœã‚’ IPython shell ä¸Šã§ã‚‚å®Ÿç¾ã—ãŸã„æ™‚ã®æ–¹æ³•ã‚’ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚\n\u0026lt;some command\u0026gt; | tee result.log IPython.utils.io.Tee IPython ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸­ã«ã€ãã®ã‚‚ã®ãšã°ã‚Šã® Tee ã‚¯ãƒ©ã‚¹ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜éŒ²ã—ãŸã„ã‚³ãƒ¼ãƒ‰ã®å‰å¾Œã§ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜éŒ²ã™ã‚‹ã“ã¨ã§ã€print é–¢æ•°ç­‰ã®æ¨™æº–å‡ºåŠ›ãŒåŒæ™‚ã«ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚‚ä¿å­˜ã•ã‚Œã¾ã™ã€‚\nfrom IPython.utils.io import Tee f = Tee(\u0026#39;result.log\u0026#39;) ... # some script f.close() ã‚‚ã¡ã‚ã‚“ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–‹ç™ºã®éš›ã¯ã€ãƒ¦ãƒ¼ã‚¶ãŒã“ã®ã‚ˆã†ãªå¯¾å¿œã‚’å–ã‚‰ãªãã¦è‰¯ã„ã‚ˆã†ã«ã€Python ã®ãƒ­ã‚®ãƒ³ã‚°æ©Ÿèƒ½ã‚’ä½¿ã†ã®ãŒè‰¯ã„ã‚ˆã†ã«æ€ã„ã¾ã™ã€‚\nReferences  Module: utils.io â€” IPython 7.2.0 documentation logging --- Python ç”¨ãƒ­ã‚®ãƒ³ã‚°æ©Ÿèƒ½ â€” Python 3.7.1 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ  ","date":"2018-12-01T23:54:06+09:00","permalink":"https://astropengu.in/posts/7/","title":"IPython shell ã§ tee ã‚’å®Ÿç¾ã™ã‚‹"},{"content":"ALMA Phase 2 submission ã®ãŸã‚ã« Science Potal ã‚’ä¹…ã—ã¶ã‚Šã«è¦‹ã¦ã¿ãŸã‚‰ã€ Tools ã«ã“ã‚“ãªã‚‚ã®ãŒç´¹ä»‹ã•ã‚Œã¦ã„ãŸã®ã§ãƒ¡ãƒ¢ã€‚\n http://radio-astro-tools.gitub.io https://github.com/radio-astro-tools  å®Ÿã¯ 2017å¹´9æœˆã« CASA News ã§ç´¹ä»‹ã•ã‚Œã¦ã¾ã—ãŸã€‚ ã¾ã ã»ã¨ã‚“ã©è¦‹ã‚Œã¦ã„ãªã„ã‘ã‚Œã©ã€è§£æãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ä½¿ãˆã‚‹ã‹ãœã²æ¤œè¨ã—ã¦ã¿ãŸã„ã¨ã“ã‚ã§ã™ã€‚\n","date":"2018-12-01T22:44:51+09:00","permalink":"https://astropengu.in/posts/6/","title":"Radio Astro Tools"},{"content":"ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã®ãƒ‘ã‚¹æŒ‡å®šã«ã¤ã„ã¦ãƒ¡ãƒ¢ã€‚ ln -s ã§è²¼ã‚‹ã¨ãã®ãƒªãƒ³ã‚¯å…ƒãƒ»ãƒªãƒ³ã‚¯ã®ãƒ‘ã‚¹ã¯ã€\n$ ln -s \u0026lt;ãƒªãƒ³ã‚¯å…ƒã®çµ¶å¯¾ãƒ‘ã‚¹\u0026gt; \u0026lt;ãƒªãƒ³ã‚¯ã®ãƒ‘ã‚¹\u0026gt; ã¾ãŸã¯ã€\n$ ln -s \u0026lt;ãƒªãƒ³ã‚¯ã‹ã‚‰è¦‹ãŸãƒªãƒ³ã‚¯å…ƒã®ç›¸å¯¾ãƒ‘ã‚¹\u0026gt; \u0026lt;ãƒªãƒ³ã‚¯ã®ãƒ‘ã‚¹\u0026gt; ã¨æŒ‡å®šã™ã‚‹ã€‚ \u0026lt;ãƒªãƒ³ã‚¯ã®ãƒ‘ã‚¹\u0026gt; ã¯çµ¶å¯¾ãƒ‘ã‚¹ã§ã‚‚ã€ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰è¦‹ãŸç›¸å¯¾ãƒ‘ã‚¹ã§ã‚‚è‰¯ã„ã€‚ åŸºæœ¬çš„ã«ã¯çµ¶å¯¾ãƒ‘ã‚¹ã§æŒ‡å®šã—ã¦ãŠãã®ãŒè‰¯ã„ã ã‚ã†ã€‚ ã©ã¡ã‚‰ã®ãƒ‘ã‚¹ã«ã‚‚ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã¯ä»˜ã‘ãªã„ã‚ˆã†ã«ã™ã‚‹ã€‚ ã¾ãŸã€ãƒªãƒ³ã‚¯ã‚’å‰Šé™¤ã™ã‚‹éš›ã¯ rm ã§ã¯ãªã unlink ã‚’ä½¿ã†ã¨ãƒªãƒ³ã‚¯å…ƒã‚’ã†ã£ã‹ã‚Šå‰Šé™¤ã—ã¦ã—ã¾ã†ã®ã‚’é˜²ã’ã‚‹ã®ã§è‰¯ã„ã ã‚ã†ã€‚\nReferences  ã€ln -sã€‘ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ã¡ã‚ƒã‚“ã¨ç†è§£â€•çµ¶å¯¾ãƒ‘ã‚¹ ç›¸å¯¾ãƒ‘ã‚¹ã§ã®ãƒªãƒ³ã‚¯å¼µã‚Š - tweeeetyã®ã¶ã‚ãçš„ã‚ã‚‚ ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã®ä½œæˆã¨å‰Šé™¤ - Qiita  ","date":"2018-12-01T18:41:48+09:00","permalink":"https://astropengu.in/posts/5/","title":"ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã®ãƒ‘ã‚¹æŒ‡å®š"},{"content":"rsync ã¯ SSH ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®è»¢é€ãƒ»ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã«ä¾¿åˆ©ãªä¸€æ–¹ã€ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¤‡é›‘ãªãŸã‚é–“é•ãˆã‚‹ã¨ã‚³ãƒ”ãƒ¼å…ˆã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¶ˆã—ã¦ã—ã¾ã†ã“ã¨ã‚‚ã‚ã‚‹ã€‚ ãã“ã§ã€è»¢é€ãƒ»ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ã‚ˆãä½¿ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ãŠãã€‚\nCopy scp ç›¸å½“ã®ä½¿ã„æ–¹ã‚’ã™ã‚‹å ´åˆ $ rsync -av source destination ä¸­æ–­ã—ãŸè»¢é€ã‚’å†é–‹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹å ´åˆ $ rsync -avP source destination  -P ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ destiation ã«ä¸­æ–­æ™‚ç‚¹ã®ä¸€æ™‚ãƒ‡ãƒ¼ã‚¿ãŒæ®‹ã•ã‚Œã‚‹  Backup ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã”ã¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã™ã‚‹å ´åˆ $ rsync -av --delete source destination  destinationã®ä¸­ã«sourceãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ é€šå¸¸ã¯ã“ã®ä½¿ã„æ–¹ã‚’ã—ã¦ãŠã‘ã°å•é¡Œãªã„ã¨æ€ã†  ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé–“ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒæœŸã™ã‚‹å ´åˆ $ rsync -av --delete source/ destination  sourceã®ä¸­èº«ãŒdestinationã®ä¸­èº«ã¨åŒæœŸã•ã‚Œã‚‹ destinationã®ä¸­èº«ãŒå¼·åˆ¶çš„ã«ç½®ãæ›ãˆã‚‰ã‚Œã‚‹ã®ã§æ³¨æ„ï¼  Useful options Referenceã‚ˆã‚ŠæŠœç²‹ã€‚\n   Option Description     -a -rlptgoDã¨æŒ‡å®šã—ãŸã®ã¨åŒæ§˜ã®åŠ¹æœã€‚å…ƒã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚„ã‚°ãƒ«ãƒ¼ãƒ—ãªã©ã‚’ä¿æŒã—ãŸã¾ã¾åŒæœŸã§ãã‚‹ã®ã§ã€åŸºæœ¬çš„ã«ä»˜åŠ ã—ã¦ãŠãã®ãŒã‚ˆã„ã€‚ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ¢ãƒ¼ãƒ‰ã¨ã‚‚å‘¼ã°ã‚Œã‚‹ã€‚   -v å‡¦ç†ä¸­ã®çµŒéãƒ•ã‚¡ã‚¤ãƒ«åã‚’è¡¨ç¤ºã™ã‚‹ã€‚   -P --partial \u0026amp; --progress ã¨åŒã˜ã€‚   -z ãƒ‡ãƒ¼ã‚¿ã‚’åœ§ç¸®ã™ã‚‹ã€‚   --delete ã‚³ãƒ”ãƒ¼å…ƒã§å‰Šé™¤ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ã‚³ãƒ”ãƒ¼å…ˆã§ã‚‚å‰Šé™¤ã™ã‚‹ã€‚-aã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨åŒæ™‚ã«æŒ‡å®šã™ã‚‹ã“ã¨ã§ã‚³ãƒ”ãƒ¼å…ƒã¨ã‚³ãƒ”ãƒ¼å…ˆã‚’åŒæœŸã§ãã‚‹ã“ã¨ã«ãªã‚‹ã€‚   --dry-run (-n) å®Ÿè¡Œæ™‚ã®å‹•ä½œã ã‘ã‚’è¡¨ç¤ºã€‚ãƒ†ã‚¹ãƒˆã«ä½¿ç”¨ã™ã‚‹ã¨ã‚ˆã„ã€‚   --partial è»¢é€ã‚’ä¸­æ–­ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿æŒã™ã‚‹ã€‚   --progress è»¢é€ã®é€²è¡ŒçŠ¶æ³ã‚’è¡¨ç¤ºã™ã‚‹ã€‚    References  ã€ rsync ã€‘ã‚³ãƒãƒ³ãƒ‰ï¼ˆãã®1ï¼‰â€•â€•ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åŒæœŸã™ã‚‹ï¼šLinuxåŸºæœ¬ã‚³ãƒãƒ³ãƒ‰Tipsï¼ˆ82ï¼‰ - ï¼ IT ã¯ã˜ã‚ã¦rsyncã‚’ä½¿ã†æ–¹ãŒçŸ¥ã£ã¦ãŠããŸã„6ã¤ã®ãƒ«ãƒ¼ãƒ« - ITmedia ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚º rsync \u0026ndash;delete ã§æ³£ã‹ãªã„ãŸã‚ã« - Qiita  ","date":"2018-12-01T18:41:26+09:00","permalink":"https://astropengu.in/posts/4/","title":"rsync ã‚’ä½¿ã£ãŸè»¢é€ãƒ»ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—"},{"content":"ç”»åƒãªã©ã®2æ¬¡å…ƒé…åˆ—ã§ã€å‘¨å›²ã«éã‚¼ãƒ­ã®å€¤ãŒå­˜åœ¨ã—ãªã„ã‚ˆã†ãªå­¤ç«‹ã—ãŸãƒ”ã‚¯ã‚»ãƒ«å€¤ã‚’ã‚¼ãƒ­ã«ã—ãŸã„ã“ã¨ãŒã‚ã‚‹ã€‚ ä¾‹ãˆã°ã€å¤©ä½“ç”»åƒã‚’ N-sigma clipping ã—ãŸéš›ã«ã€ãƒã‚¤ã‚ºã®å½±éŸ¿ã§å¤©ä½“ä»¥å¤–ã®å ´æ‰€ã«æ®‹ã£ã¦ã—ã¾ã£ãŸ ã‚¹ãƒ‘ã‚¤ã‚¯çŠ¶ã®ã‚´ãƒŸã‚’æ¶ˆå»ã—ãŸã„å ´åˆãªã©ã§ã‚ã‚‹ã€‚ ã“ã®å ´åˆã€ã‚ã‚‹ãƒ”ã‚¯ã‚»ãƒ«ã®å‘¨å›²ã«éã‚¼ãƒ­ã®å€¤ãŒã„ãã¤å­˜åœ¨ã™ã‚‹ã‹ã‚’2æ¬¡å…ƒã®ç•³ã¿è¾¼ã¿ã§æ±‚ã‚ã‚‹ã®ãŒç°¡å˜ã§ã‚ã‚‹ã€‚\nPython code 2æ¬¡å…ƒã®ã¨ã‚ã‚‹ NumPy é…åˆ— array ãŒã‚ã‚‹ã¨ã™ã‚‹ã€‚ ã“ã®ã¨ãã€ä»¥ä¸‹ã®ã‚ˆã†ãª2æ¬¡å…ƒé…åˆ— kernel ã¨ç•³ã¿è¾¼ã‚€ã¨ã€ å‘¨å›²ã®ãƒ”ã‚¯ã‚»ãƒ«å€¤ã®å’Œã¨ãªã‚‹ã‚ˆã†ãª2æ¬¡å…ƒé…åˆ—ã‚’è¨ˆç®—ã§ãã‚‹ã€‚\nimport numpy as np kernel = np.array([[1, 1, 1], [1, 0, 1], [1, 1, 1]]) ã“ã‚Œã‚’å¿œç”¨ã—ã¦ã€éã‚¼ãƒ­ã‚’ True ã€ãã‚Œä»¥å¤–ã‚’ False ã¨ã™ã‚‹ã‚ˆã†ãª 2æ¬¡å…ƒé…åˆ—ã«å¯¾ã—ã¦åŒæ§˜ã®æ“ä½œã‚’ã™ã‚‹ã“ã¨ã§ã€å‘¨å›²ã®éã‚¼ãƒ­ãƒ”ã‚¯ã‚»ãƒ«æ•°ãŒè¨ˆç®—ã§ãã‚‹ã€‚\nfrom scipy.signal import convolve2d # éã‚¼ãƒ­ã‚’ True ã§è¡¨ã™ condition = (array != 0) # å‘¨å›²ã®éã‚¼ãƒ­ãƒ”ã‚¯ã‚»ãƒ«æ•°ã‚’è¨ˆç®—ã™ã‚‹ neighbours = convolve2d(condition, kernel, mode=\u0026#39;same\u0026#39;, boundary=\u0026#39;fill\u0026#39;, fillvalue=0) ã‚ã¨ã¯ã“ã‚Œã‚’ä½¿ã£ã¦å­¤ç«‹ã—ãŸãƒ”ã‚¯ã‚»ãƒ« (neighbours==0) ã‚’å‡¦ç†ã™ã‚Œã°è‰¯ã„ã€‚\n# å‘¨å›²ã«éã‚¼ãƒ­ã®å€¤ãŒãªã„ãƒ”ã‚¯ã‚»ãƒ«å€¤ã‚’ã‚¼ãƒ­ã«ã™ã‚‹ array[neighbours==0] = 0 Others ä½™è«‡ã ãŒã€ã“ã®æ–¹æ³•ã‚’ä½¿ã£ã¦ Conway\u0026rsquo;s game of life (ãƒ©ã‚¤ãƒ•ã‚²ãƒ¼ãƒ ) ã‚’ç°¡å˜ã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\n","date":"2018-12-01T18:40:47+09:00","permalink":"https://astropengu.in/posts/3/","title":"ç•³ã¿è¾¼ã¿ã«ã‚ˆã‚‹ç”»åƒã®ãƒã‚¤ã‚ºé™¤å»"},{"content":"Issue VS Code ã§æ—¥æœ¬èªå…¥åŠ›ã—ã¦ GitHub ã«ãƒ—ãƒƒã‚·ãƒ¥ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ã‚ˆã†ã« ï¿½ ã§è¡¨ç¤ºã•ã‚Œã‚‹æ–‡å­—ãŒç´›ã‚Œè¾¼ã‚“ã§ã„ãŸã€‚ ã“ã‚Œã¯ VS Code ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ Electron ã®ãƒã‚°ã§ã€åˆ¶å¾¡æ–‡å­— (backspace) ãŒç´›ã‚Œè¾¼ã‚“ã§ã—ã¾ã£ã¦ã„ã‚‹ã‚ˆã†ã ã€‚\n \nSolution ã¾ãšã€åˆ¶å¾¡æ–‡å­—ãŒ VS Code ã®ã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã§è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ã€ User Settings ã§ä»¥ä¸‹ã‚’è¨­å®šã™ã‚‹ã€‚\n{ \u0026#34;editor.renderControlCharacters\u0026#34;: true } ã•ã‚‰ã«ã€VS Code ã®æ‹¡å¼µæ©Ÿèƒ½ Remove backspace control character ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€ ä¸‡ä¸€åˆ¶å¾¡æ–‡å­—ãŒç´›ã‚Œè¾¼ã‚“ã å ´åˆã‚‚ä¿å­˜æ™‚ã«è‡ªå‹•çš„ã«å‰Šé™¤ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã€‚ ä¾‹ãˆã°ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿å­˜æ™‚ã«å‰Šé™¤ã™ã‚‹ã®ã§ã‚ã‚Œã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¦ãŠã‘ã°è‰¯ã„ã€‚\n{ \u0026#34;editor.formatOnSave\u0026#34;: true } References  Visual Studio Code ã®æ—¥æœ¬èªå•é¡Œã¾ã¨ã‚ - Qiita Visual Studio Code ã§åˆ¶å¾¡æ–‡å­—ãŒæ··ã–ã‚‹å•é¡Œ - kawaken\u0026rsquo;s blog Remove backspace control character - Visual Studio Marketplace  ","date":"2018-12-01T18:38:39+09:00","permalink":"https://astropengu.in/posts/2/","title":"VS Code ã®æ—¥æœ¬èªå…¥åŠ›ã§åˆ¶å¾¡æ–‡å­—ãŒç´›ã‚Œè¾¼ã‚€å•é¡Œ"},{"content":"ä»¥å‰ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ (http://www.ioa.s.u-tokyo.ac.jp/~taniguchi/) ã®ç§»è»¢å…ˆã¨ã—ã¦ã€ ã“ã¡ã‚‰ã®æ–°ã—ã„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ (https://astropengu.in) ã‚’ Hugo ã§ä½œæˆã—ã¾ã—ãŸã€‚ ä»Šå¾Œã¯ã“ã“ã«ç ”ç©¶ã‚„é–‹ç™ºã®æƒ…å ±ã‚’ã¾ã¨ã‚ã‚‹äºˆå®šã§ã™ã€‚ ä»¥å‰ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ã—ã°ã‚‰ãã®é–“å‹•ã„ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ãŒã€æ›´æ–°ã¯ã•ã‚Œã¾ã›ã‚“ã®ã§ã”æ³¨æ„ãã ã•ã„ã€‚\n","date":"2018-12-01T18:08:51+09:00","permalink":"https://astropengu.in/posts/1/","title":"Hello, world!"}]